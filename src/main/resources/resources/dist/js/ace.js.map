{"version":3,"file":"ace.js","sources":["../../js/src/util.js","../../js/src/event-handler.js","../../js/src/general.js","../../js/src/scrollbar.js","../../js/src/sidebar.js","../../js/src/aside.js","../../js/src/toaster.js","../../js/src/card.js","../../js/src/fileinput.js","../../js/src/wysiwyg.js","../../js/src/tab-scroll.js","../../js/src/tab-swipe.js","../../js/src/scroll-top.js","../../js/src/sticky.js","../../js/src/index.umd.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): util.js\r\n   Some Utility Functions\r\n*/\r\n\r\nclass Util {\r\n  static isReducedMotion () {\r\n    return window.matchMedia('(prefers-reduced-motion)').matches\r\n  }\r\n\r\n  static isRTL () {\r\n    return document.documentElement.classList.contains('rtl') || document.documentElement.dir === 'rtl'\r\n  }\r\n\r\n  static closest (element, selector) {\r\n    if (!element) return null\r\n    if ('closest' in element) return element.closest(selector)\r\n\r\n    try {\r\n      for (let el = element; el !== null; el = el.parentNode) {\r\n        if (Util.matches(el, selector)) {\r\n          return el\r\n        }\r\n      }\r\n    } catch (e) {}\r\n\r\n    return null\r\n  }\r\n\r\n  static matches (element, selector) {\r\n    if (!element || !selector) return false\r\n\r\n    if (element === selector) {\r\n      // for when selector is not a string, i.e selector is the element itself (needed for when we don't know the types)\r\n      return true\r\n    }\r\n\r\n    try {\r\n      if (Util._matches) {\r\n        return element.matches(selector)\r\n      } else if (Util._msMatches) {\r\n        return element.msMatchesSelector(selector)\r\n      }\r\n    } catch (e) {}\r\n\r\n    return false\r\n  }\r\n\r\n  static isValidSelector (selector) {\r\n    if (typeof selector !== 'string') return false\r\n    let isValid = true\r\n    try {\r\n      document.createDocumentFragment().querySelector(selector)\r\n    } catch (e) {\r\n      isValid = false\r\n    }\r\n    return isValid\r\n  }\r\n\r\n  static _insert (element, _elem, _pos = 'afterend') {\r\n    if (typeof element === 'string') element = document.querySelector(element)\r\n    if (element === null) return null\r\n\r\n    // check to see it _elem is a 'selector'\r\n    if (Util.isValidSelector(_elem)) {\r\n      const tmp = document.querySelector(_elem)\r\n      _elem = tmp !== null ? tmp : _elem\r\n    }\r\n\r\n    let currentElemAtPos = null\r\n    switch (_pos) {\r\n      case 'afterend':\r\n        currentElemAtPos = element.nextElementSibling\r\n        break\r\n\r\n      case 'beforeend':\r\n        currentElemAtPos = element.lastElementChild\r\n        break\r\n\r\n      case 'afterbegin':\r\n        currentElemAtPos = element.firstElementChild\r\n        break\r\n\r\n      case 'beforebegin':\r\n        currentElemAtPos = element.previousElementSibling\r\n        break\r\n    }\r\n\r\n    if (typeof _elem === 'string') {\r\n      element.insertAdjacentHTML(_pos, _elem)\r\n\r\n      switch (_pos) {\r\n        case 'afterend':\r\n          _elem = element.nextElementSibling\r\n          break\r\n\r\n        case 'beforeend':\r\n          _elem = element.lastElementChild\r\n          break\r\n\r\n        case 'afterbegin':\r\n          _elem = element.firstElementChild\r\n          break\r\n\r\n        case 'beforebegin':\r\n          _elem = element.previousElementSibling\r\n          break\r\n      }\r\n    } else {\r\n      _elem = element.insertAdjacentElement(_pos, _elem)\r\n    }\r\n\r\n    if (_elem === currentElemAtPos) return null // it means the new element has not been inserted\r\n    return _elem\r\n  }\r\n\r\n  static after (element, _after) {\r\n    return Util._insert(element, _after, 'afterend')\r\n  }\r\n\r\n  static before (element, _before) {\r\n    return Util._insert(element, _before, 'beforebegin')\r\n  }\r\n\r\n  static append (element, _append) {\r\n    return Util._insert(element, _append, 'beforeend')\r\n  }\r\n\r\n  static prepend (element, _prepend) {\r\n    return Util._insert(element, _prepend, 'afterbegin')\r\n  }\r\n\r\n  static wrap (element, _wrap) {\r\n    _wrap = Util._insert(element, _wrap, 'afterend')\r\n    if (_wrap) _wrap.appendChild(element)\r\n    return _wrap\r\n  }\r\n\r\n  static unwrap (element, remove = true) {\r\n    const parent = element.parentNode\r\n    Util.after(parent, element)\r\n    if (remove) Util.remove(parent)\r\n  }\r\n\r\n  static empty (element) {\r\n    // first remove all events\r\n    // element.querySelectorAll('*').forEach((el) => EventHandler.off(el))\r\n    element.innerHTML = ''\r\n  }\r\n\r\n  static remove (element) {\r\n    if (typeof element === 'string') {\r\n      document.querySelectorAll(element).forEach((el) => {\r\n        Util.remove(el)\r\n      })\r\n      return\r\n    }\r\n    // first remove all events\r\n    // EventHandler.off(element)\r\n    return element && element.parentNode && element.parentNode.removeChild(element)\r\n  }\r\n\r\n  static updateClass (element, className, add = true) {\r\n    if (typeof element === 'string') {\r\n      document.querySelectorAll(element).forEach((el) => {\r\n        Util.updateClass(el, className, add)\r\n      })\r\n      return\r\n    }\r\n\r\n    if (!element) return\r\n\r\n    const _classes = className.split(/\\s/)\r\n    for (let _class of _classes) {\r\n      _class = _class.trim()\r\n      if (_class.length === 0) continue\r\n\r\n      if (add) {\r\n        element.classList.add(_class)\r\n      } else {\r\n        element.classList.remove(_class)\r\n      }\r\n    }\r\n  }\r\n\r\n  static addClass (element, className) {\r\n    Util.updateClass(element, className, true)\r\n  }\r\n\r\n  static removeClass (element, className) {\r\n    Util.updateClass(element, className, false)\r\n  }\r\n\r\n  static next (element, selector = null) {\r\n    if (!selector) return element.nextElementSibling\r\n\r\n    let _next = element\r\n    while ((_next = _next.nextElementSibling) && !Util.matches(_next, selector));\r\n    return _next\r\n  }\r\n\r\n  static prev (element, selector = null) {\r\n    if (!selector) return element.previousElementSibling\r\n\r\n    let _prev = element\r\n    while ((_prev = _prev.previousElementSibling) && !Util.matches(_prev, selector));\r\n    return _prev\r\n  }\r\n\r\n  static reflow (element) {\r\n    return element.offsetTop\r\n  }\r\n\r\n  static css (element, property) {\r\n    return window.getComputedStyle(element)[property]\r\n  }\r\n\r\n  static getScrollbarInfo (recalc = false) {\r\n    if (recalc === false && Util._scrollbarInfo !== null) return Util._scrollbarInfo\r\n\r\n    const scrollDiv = document.createElement('div')\r\n    scrollDiv.style.overflow = 'scroll'\r\n    scrollDiv.style.position = 'absolute'\r\n    scrollDiv.style.width = '50px'\r\n    scrollDiv.style.height = '50px'\r\n\r\n    const scrollbar = {}\r\n\r\n    document.body.appendChild(scrollDiv)\r\n    scrollbar.width = parseInt(scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth)\r\n    document.documentElement.style.setProperty('--scrollbar-width', scrollbar.width + 'px')\r\n\r\n    let thinWidth = scrollbar.width\r\n    if (window.CSS) {\r\n      scrollbar.thin = window.CSS.supports('scrollbar-width', 'thin')// currently only firefox 64+ supports it\r\n      if (scrollbar.thin) {\r\n        scrollDiv.style['scrollbar-width'] = 'thin'\r\n        thinWidth = parseInt(scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth)\r\n      }\r\n\r\n      scrollbar.overlay = window.CSS.supports('overflow', 'overlay')\r\n    } else {\r\n      scrollbar.thin = false\r\n\r\n      scrollDiv.style.overflow = 'overlay'// Webkit/Chromium based browsers support it\r\n      scrollbar.overlay = scrollbar.width > 0 && parseInt(scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth) === 0\r\n    }\r\n    document.documentElement.style.setProperty('--moz-scrollbar-thin', thinWidth + 'px')\r\n\r\n    scrollDiv.style['-ms-overflow-style'] = '-ms-autohiding-scrollbar'// IE\r\n    scrollbar.autohide = scrollbar.width > 0 && parseInt(scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth) === 0\r\n\r\n    /// //////////////////////////////////\r\n    document.body.removeChild(scrollDiv)\r\n    Util._scrollbarInfo = scrollbar\r\n\r\n    return Util._scrollbarInfo\r\n  }\r\n}\r\nUtil._supportsTransitionStart = null// static property\r\nUtil._scrollbarInfo = null// static property\r\n\r\nUtil._matches = typeof document.body.matches === 'function'\r\nUtil._msMatches = typeof document.body.msMatchesSelector === 'function'\r\n\r\n/**\r\n* ------------------------------------------------------------------------\r\n* ------------------------------------------------------------------------\r\n*/\r\n\r\nexport default Util\r\n","/**\r\n *\r\n * We are using EventHandler from Bootstrap 5\r\n *\r\n */\r\n\r\n// polyfills are from MDN\r\n(function () {\r\n  if (typeof window.CustomEvent !== 'function') {\r\n    function CustomEvent (event, params) {\r\n      params = params || { bubbles: false, cancelable: false, detail: null }\r\n      const evt = document.createEvent('CustomEvent')\r\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail)\r\n      return evt\r\n    }\r\n\r\n    window.CustomEvent = CustomEvent\r\n  }\r\n\r\n  if (!String.prototype.startsWith) {\r\n    Object.defineProperty(String.prototype, 'startsWith', {\r\n      value: function (search, rawPos) {\r\n        const pos = rawPos > 0 ? rawPos | 0 : 0\r\n        return this.substring(pos, pos + search.length) === search\r\n      }\r\n    })\r\n  }\r\n\r\n  if (!String.prototype.includes) {\r\n    String.prototype.includes = function (search, start) {\r\n      'use strict'\r\n\r\n      if (search instanceof RegExp) {\r\n        throw TypeError('first argument must not be a RegExp')\r\n      }\r\n      if (start === undefined) { start = 0 }\r\n      return this.indexOf(search, start) !== -1\r\n    }\r\n  }\r\n})()\r\n\r\n/**\r\n * --------------------------------------------------------------------------\r\n * Bootstrap (v5.0.0-beta3): dom/event-handler.js\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nconst getjQuery = () => {\r\n  const { jQuery } = window\r\n\r\n  if (jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\r\n    return jQuery\r\n  }\r\n\r\n  return null\r\n}\r\n\r\n/**\r\n  * ------------------------------------------------------------------------\r\n  * Constants\r\n  * ------------------------------------------------------------------------\r\n  */\r\n\r\nconst namespaceRegex = /[^.]*(?=\\..*)\\.|.*/\r\nconst stripNameRegex = /\\..*/\r\nconst stripUidRegex = /::\\d+$/\r\nconst eventRegistry = {} // Events storage\r\nlet uidEvent = 1\r\nconst customEvents = {\r\n  // mouseenter: 'mouseover',\r\n  // mouseleave: 'mouseout'\r\n}\r\nconst nativeEvents = [\r\n  'click',\r\n  'dblclick',\r\n  'mouseup',\r\n  'mousedown',\r\n  'contextmenu',\r\n  'mousewheel',\r\n  'DOMMouseScroll',\r\n  'mouseover',\r\n  'mouseout',\r\n  'mousemove',\r\n  'selectstart',\r\n  'selectend',\r\n  'keydown',\r\n  'keypress',\r\n  'keyup',\r\n  'orientationchange',\r\n  'touchstart',\r\n  'touchmove',\r\n  'touchend',\r\n  'touchcancel',\r\n  'pointerdown',\r\n  'pointermove',\r\n  'pointerup',\r\n  'pointerleave',\r\n  'pointercancel',\r\n  'gesturestart',\r\n  'gesturechange',\r\n  'gestureend',\r\n  'focus',\r\n  'blur',\r\n  'change',\r\n  'reset',\r\n  'select',\r\n  'submit',\r\n  'focusin',\r\n  'focusout',\r\n  'load',\r\n  'unload',\r\n  'beforeunload',\r\n  'resize',\r\n  'move',\r\n  'DOMContentLoaded',\r\n  'readystatechange',\r\n  'error',\r\n  'abort',\r\n  'scroll',\r\n  'transitionstart',\r\n  'transitionend',\r\n  'animationstart',\r\n  'animationend'\r\n]\r\n\r\nconst isNativeEvent = (eventName) => nativeEvents.indexOf(eventName) >= 0\r\n\r\n/**\r\n  * ------------------------------------------------------------------------\r\n  * Private methods\r\n  * ------------------------------------------------------------------------\r\n  */\r\n\r\nfunction getUidEvent (element, uid) {\r\n  return (uid && `${uid}::${uidEvent++}`) || element.uidEvent || uidEvent++\r\n}\r\n\r\nfunction getEvent (element) {\r\n  const uid = getUidEvent(element)\r\n\r\n  element.uidEvent = uid\r\n  eventRegistry[uid] = eventRegistry[uid] || {}\r\n\r\n  return eventRegistry[uid]\r\n}\r\n\r\nfunction bootstrapHandler (element, fn) {\r\n  return function handler (event) {\r\n    event.delegateTarget = element\r\n\r\n    if (handler.oneOff) {\r\n      EventHandler.off(element, event.type, fn)\r\n    }\r\n\r\n    return fn.apply(element, [event])\r\n  }\r\n}\r\n\r\nfunction bootstrapDelegationHandler (element, selector, fn) {\r\n  return function handler (event) {\r\n    const domElements = element.querySelectorAll(selector)\r\n\r\n    for (let { target } = event; target && target !== this; target = target.parentNode) {\r\n      for (let i = domElements.length; i--;) {\r\n        if (domElements[i] === target) {\r\n          event.delegateTarget = target\r\n\r\n          if (handler.oneOff) {\r\n            EventHandler.off(element, event.type, fn)\r\n          }\r\n\r\n          return fn.apply(target, [event])\r\n        }\r\n      }\r\n    }\r\n\r\n    // To please ESLint\r\n    return null\r\n  }\r\n}\r\n\r\nfunction findHandler (events, handler, delegationSelector = null) {\r\n  const uidEventList = Object.keys(events)\r\n\r\n  for (let i = 0, len = uidEventList.length; i < len; i++) {\r\n    const event = events[uidEventList[i]]\r\n\r\n    if (event.originalHandler === handler && event.delegationSelector === delegationSelector) {\r\n      return event\r\n    }\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nfunction normalizeParams (originalTypeEvent, handler, delegationFn) {\r\n  const delegation = typeof handler === 'string'\r\n  const originalHandler = delegation ? delegationFn : handler\r\n\r\n  // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\r\n  let typeEvent = originalTypeEvent.replace(stripNameRegex, '')\r\n  const custom = customEvents[typeEvent]\r\n\r\n  if (custom) {\r\n    typeEvent = custom\r\n  }\r\n\r\n  const isNative = isNativeEvent(typeEvent)\r\n\r\n  if (!isNative) {\r\n    typeEvent = originalTypeEvent\r\n  }\r\n\r\n  return [delegation, originalHandler, typeEvent]\r\n}\r\n\r\nfunction addHandler (element, originalTypeEvent, handler, delegationFn, oneOff) {\r\n  if (typeof originalTypeEvent !== 'string' || !element) {\r\n    return\r\n  }\r\n\r\n  if (!handler) {\r\n    handler = delegationFn\r\n    delegationFn = null\r\n  }\r\n\r\n  const [delegation, originalHandler, typeEvent] = normalizeParams(originalTypeEvent, handler, delegationFn)\r\n  const events = getEvent(element)\r\n  const handlers = events[typeEvent] || (events[typeEvent] = {})\r\n  const previousFn = findHandler(handlers, originalHandler, delegation ? handler : null)\r\n\r\n  if (previousFn) {\r\n    previousFn.oneOff = previousFn.oneOff && oneOff\r\n\r\n    return\r\n  }\r\n\r\n  const uid = getUidEvent(originalHandler, originalTypeEvent.replace(namespaceRegex, ''))\r\n  const fn = delegation\r\n    ? bootstrapDelegationHandler(element, handler, delegationFn)\r\n    : bootstrapHandler(element, handler)\r\n\r\n  fn.delegationSelector = delegation ? handler : null\r\n  fn.originalHandler = originalHandler\r\n  fn.oneOff = oneOff\r\n  fn.uidEvent = uid\r\n  handlers[uid] = fn\r\n\r\n  element.addEventListener(typeEvent, fn, delegation)\r\n}\r\n\r\nfunction removeHandler (element, events, typeEvent, handler, delegationSelector) {\r\n  const fn = findHandler(events[typeEvent], handler, delegationSelector)\r\n\r\n  if (!fn) {\r\n    return\r\n  }\r\n\r\n  element.removeEventListener(typeEvent, fn, Boolean(delegationSelector))\r\n  delete events[typeEvent][fn.uidEvent]\r\n}\r\n\r\nfunction removeNamespacedHandlers (element, events, typeEvent, namespace) {\r\n  const storeElementEvent = events[typeEvent] || {}\r\n\r\n  Object.keys(storeElementEvent).forEach(handlerKey => {\r\n    if (handlerKey.includes(namespace)) {\r\n      const event = storeElementEvent[handlerKey]\r\n\r\n      removeHandler(element, events, typeEvent, event.originalHandler, event.delegationSelector)\r\n    }\r\n  })\r\n}\r\n\r\nconst EventHandler = {\r\n  on (element, event, handler, delegationFn) {\r\n    addHandler(element, event, handler, delegationFn, false)\r\n  },\r\n\r\n  one (element, event, handler, delegationFn) {\r\n    addHandler(element, event, handler, delegationFn, true)\r\n  },\r\n\r\n  off (element, originalTypeEvent, handler, delegationFn) {\r\n    if (typeof originalTypeEvent !== 'string' || !element) {\r\n      return\r\n    }\r\n\r\n    const [delegation, originalHandler, typeEvent] = normalizeParams(originalTypeEvent, handler, delegationFn)\r\n    const inNamespace = typeEvent !== originalTypeEvent\r\n    const events = getEvent(element)\r\n    const isNamespace = originalTypeEvent.startsWith('.')\r\n\r\n    if (typeof originalHandler !== 'undefined') {\r\n      // Simplest case: handler is passed, remove that listener ONLY.\r\n      if (!events || !events[typeEvent]) {\r\n        return\r\n      }\r\n\r\n      removeHandler(element, events, typeEvent, originalHandler, delegation ? handler : null)\r\n      return\r\n    }\r\n\r\n    if (isNamespace) {\r\n      Object.keys(events).forEach(elementEvent => {\r\n        removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1))\r\n      })\r\n    }\r\n\r\n    const storeElementEvent = events[typeEvent] || {}\r\n    Object.keys(storeElementEvent).forEach(keyHandlers => {\r\n      const handlerKey = keyHandlers.replace(stripUidRegex, '')\r\n\r\n      if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\r\n        const event = storeElementEvent[keyHandlers]\r\n\r\n        removeHandler(element, events, typeEvent, event.originalHandler, event.delegationSelector)\r\n      }\r\n    })\r\n  },\r\n\r\n  trigger (element, event, args) {\r\n    if (typeof event !== 'string' || !element) {\r\n      return null\r\n    }\r\n\r\n    const $ = getjQuery()\r\n    const typeEvent = event.replace(stripNameRegex, '')\r\n    const inNamespace = event !== typeEvent\r\n    const isNative = isNativeEvent(typeEvent)\r\n\r\n    let jQueryEvent\r\n    let bubbles = true\r\n    let nativeDispatch = true\r\n    let defaultPrevented = false\r\n    let evt = null\r\n\r\n    if (inNamespace && $) {\r\n      jQueryEvent = $.Event(event, args)\r\n\r\n      $(element).trigger(jQueryEvent)\r\n      bubbles = !jQueryEvent.isPropagationStopped()\r\n      nativeDispatch = !jQueryEvent.isImmediatePropagationStopped()\r\n      defaultPrevented = jQueryEvent.isDefaultPrevented()\r\n    }\r\n\r\n    if (isNative) {\r\n      evt = document.createEvent('HTMLEvents')\r\n      evt.initEvent(typeEvent, bubbles, true)\r\n    } else {\r\n      evt = new window.CustomEvent(event, {\r\n        bubbles,\r\n        cancelable: true\r\n      })\r\n    }\r\n\r\n    // merge custom information in our event\r\n    if (typeof args !== 'undefined') {\r\n      Object.keys(args).forEach(key => {\r\n        Object.defineProperty(evt, key, {\r\n          get () {\r\n            return args[key]\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n    if (defaultPrevented) {\r\n      evt.preventDefault()\r\n    }\r\n\r\n    if (nativeDispatch) {\r\n      element.dispatchEvent(evt)\r\n    }\r\n\r\n    if (evt.defaultPrevented && typeof jQueryEvent !== 'undefined') {\r\n      jQueryEvent.preventDefault()\r\n    }\r\n\r\n    return evt\r\n  }\r\n}\r\n\r\nexport default EventHandler\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): general.js\r\n   General Ace Functions\r\n*/\r\n\r\nimport Util from './util'\r\n\r\nclass Basic {\r\n  static _HandleBasics () {\r\n    Basic._HandleGeneral()\r\n\r\n    if (typeof window.jQuery === 'undefined' || typeof window.bootstrap === 'undefined') return\r\n\r\n    Basic._handleAlerts()\r\n\r\n    Basic._handleDropdowns()\r\n\r\n    Basic._handleNavbar()\r\n  }\r\n\r\n  static _HandleGeneral () {\r\n    window.addEventListener('DOMContentLoaded', () => {\r\n      document.body.classList.add('is-document-loaded')\r\n    })\r\n\r\n    // for IE\r\n    if (window.NodeList && !window.NodeList.prototype.forEach) {\r\n      window.NodeList.prototype.forEach = Array.prototype.forEach\r\n    }\r\n  }\r\n\r\n  /**\r\n   * collapse .alert instead of fading it out\r\n  */\r\n  static _handleAlerts () {\r\n    const $ = window.jQuery\r\n\r\n    $(document)\r\n      .on('close.bs.alert.alert-collapse', '.alert.alert-collapse', function (e) {\r\n        e.preventDefault()\r\n        $(this).wrap('<div class=\"collapse show alert-collapse\"></div>').parent().collapse('hide').one('hidden.bs.collapse.alert-collapse', function () {\r\n          $(this).remove()\r\n        })\r\n      })\r\n  }\r\n\r\n  /// ////////\r\n\r\n  static _handleDropdowns () {\r\n    const $ = window.jQuery\r\n\r\n    // dismiss (hide) a dropdown menu\r\n    const _dismissDropdown = function () {\r\n      const menu = Util.closest(this, '.dropdown-menu')\r\n      const dropdown = menu.parentNode\r\n      const toggle = dropdown.querySelector('[data-toggle=dropdown]')\r\n\r\n      $(toggle).dropdown('hide')\r\n      menu.classList.remove('show')\r\n      dropdown.classList.remove('show')\r\n    }\r\n\r\n    // hide dropdown when clicked on an element inside it with `data-dismiss=dropdown` attribute\r\n    $(document)\r\n      .on('click', '[data-dismiss=dropdown]', function (e) {\r\n        e.preventDefault()\r\n        _dismissDropdown.call(e.target)\r\n      })\r\n\r\n    // hide dropdown when a `form` inside it is submitted\r\n    $(document)\r\n      .on('submit', '.dropdown-menu form[data-submit=dismiss]', function (e) {\r\n        e.preventDefault()\r\n        _dismissDropdown.call(e.target)\r\n      })\r\n\r\n    // don't hide dropdown when clicked inside a `.dropdown-clickable` element\r\n    $(document)\r\n      .on('click.dropdown-clickable', '.dropdown-clickable', function (e) {\r\n        e.stopImmediatePropagation()\r\n      })\r\n\r\n    // hide `body` scrollbars when dropdowns are opened in mobile view\r\n    $(document)\r\n      .on('shown.bs.dropdown', '.dropdown.dd-backdrop', function () {\r\n        // check `display` of .dropdown::before, if not visible it means `backdrop` is not visible (applied)\r\n        if (window.getComputedStyle(this, ':before').display === 'none') return\r\n\r\n        // the device width is such that backdrop is visible (.dropdown-inner is visible)\r\n        const scrollbarInfo = Util.getScrollbarInfo()\r\n        if (scrollbarInfo.width === 0) {\r\n          document.body.classList.add('mob-dropdown-body')\r\n        }\r\n        this.classList.add('backdrop-shown')// used later to add `.navbar-modal` class to .navbar\r\n\r\n        $(this)\r\n          .one('hidden.bs.dropdown', function () {\r\n            document.body.classList.remove('mob-dropdown-body')\r\n            this.classList.remove('backdrop-shown')\r\n          })\r\n      })\r\n  }\r\n\r\n  /// ////////\r\n\r\n  static _handleNavbar () {\r\n    const $ = window.jQuery\r\n\r\n    // hide `.navbar-collapse` when clicked on it (specifically on the backdrop in mobile view)\r\n    $(document)\r\n      .on('click', '.navbar-backdrop.collapse.show', function (e) {\r\n        if (e.target === this) $(this).collapse('hide')\r\n      })\r\n\r\n    // hide dropdown when a `form` inside it is submitted\r\n    $(document)\r\n      .on('submit', '.navbar-collapse.show form[data-submit=dismiss]', function (e) {\r\n        e.preventDefault()\r\n        $(this).closest('.navbar-collapse').collapse('hide')\r\n      })\r\n\r\n    // when navbar or a dropdown-menu inside it is displayed, move focus to the \".autofocus\" element.\r\n    // For example a search box can be .autofocus\r\n\r\n    let currentOpenCollapse = null\r\n    $(document)\r\n      .on('shown.bs.dropdown', '.navbar .dropdown', function () {\r\n        const autofocus = this.querySelector('.autofocus')\r\n        if (autofocus) autofocus.focus()\r\n      })\r\n      .on('show.bs.collapse', '.navbar-collapse', function (ev) {\r\n        if (ev.isDefaultPrevented()) return\r\n        // also hide body scrollbars in mobile devices\r\n        if (this.classList.contains('navbar-backdrop')) {\r\n          const scrollbarInfo = Util.getScrollbarInfo()\r\n          if (scrollbarInfo.width === 0) {\r\n            document.body.classList.add('mob-navbar-body')\r\n          }\r\n        }\r\n\r\n        const previousOpenCollapse = currentOpenCollapse\r\n        currentOpenCollapse = ev.target\r\n\r\n        if (previousOpenCollapse !== null) {\r\n          $('.navbar-collapse.show').css('transition-duration', '1ms').collapse('hide').css('transition-duration', '')\r\n        }\r\n      })\r\n      .on('shown.bs.collapse', '.navbar-collapse', function () {\r\n        const autofocus = this.querySelector('.autofocus')\r\n        if (autofocus) autofocus.focus()\r\n      })\r\n      .on('hidden.bs.collapse', function (ev) {\r\n        if (currentOpenCollapse === ev.target) {\r\n          // no more open collapsed (the currentOpenCollapse it the last one)\r\n          document.body.classList.remove('mob-navbar-body')\r\n          currentOpenCollapse = null\r\n        }\r\n      })\r\n\r\n    // if navbar dropdowns are not entirely inside window area, move them accordingly\r\n    const _adjustDropdown = function () {\r\n      const isRTL = Util.isRTL()\r\n      const isRightAligned = this.classList.contains('dropdown-menu-right')\r\n\r\n      const _dir = !isRightAligned ? (!isRTL ? 'left' : 'right') : (!isRTL ? 'right' : 'left')\r\n      const prop = 'margin-' + _dir\r\n\r\n      this.style.removeProperty(prop)\r\n\r\n      let moveBy = 0\r\n      const rect = this.getBoundingClientRect()\r\n      if (rect.left < 0) {\r\n        moveBy = parseInt(-1 * rect.left) + 5\r\n      } else {\r\n        const sw = document.body.scrollWidth\r\n        if (rect.right > sw) {\r\n          moveBy = parseInt(sw - rect.right - 5)\r\n        }\r\n      }\r\n\r\n      if (moveBy < 5) return\r\n\r\n      if (isRightAligned) moveBy *= -1\r\n      this.style.setProperty(prop, moveBy + 'px', 'important')\r\n    }\r\n\r\n    $(document)\r\n      .on('transitionstart.adjust', '.navbar .dropdown-mega .dropdown-menu', function (ev) {\r\n        // adjust when hovered (dropdown-hover)\r\n        if (ev.target !== this || ev.originalEvent.propertyName !== 'transform') return\r\n        _adjustDropdown.call(this)\r\n      })\r\n      .on('shown.bs.dropdown', '.navbar .dropdown', function () {\r\n        // adjus when \"shown\" (click)\r\n        if (this.classList.contains('dropdown-mega')) {\r\n          const dropdown = this.querySelector('.dropdown-menu[data-display=\"static\"]')\r\n          if (dropdown !== null) _adjustDropdown.call(dropdown)\r\n        }\r\n\r\n        // when a .dropdown is opened, add .navbar-open to increase z-index, so that dropdowns go above 'asides', etc\r\n        const navbar = Util.closest(this, '.navbar')\r\n        if (!navbar) return\r\n        if (this.classList.contains('backdrop-shown')) navbar.classList.add('navbar-modal')\r\n        else navbar.classList.add('navbar-open')\r\n      })\r\n      .on('hidden.bs.dropdown', '.navbar .dropdown', function () {\r\n        const navbar = Util.closest(this, '.navbar')\r\n        if (!navbar) return\r\n        navbar.classList.remove('navbar-open')\r\n        navbar.classList.remove('navbar-modal')\r\n      })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nBasic._HandleBasics()\r\n\r\nexport default Basic\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): scrollbar.js\r\n*/\r\n\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceScroll'\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.scroll'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  ACE_SCROLL: '[ace-scroll]',\r\n  DATA_ACE_SCROLL: '[data-ace-scroll]'\r\n}\r\n\r\nconst DefaultType = {\r\n  type: 'string',\r\n  smooth: 'boolean',\r\n\r\n  height: '(number|null)',\r\n  lock: 'boolean',\r\n\r\n  ignore: '(string|null)',\r\n\r\n  plugin: 'string',\r\n  options: '(object|null)', // plugin settings\r\n\r\n  color: '(string|null)',\r\n  autohide: '(boolean|null)'\r\n}\r\n\r\nconst Default = {\r\n  type: 'native',\r\n  smooth: false,\r\n\r\n  height: null,\r\n  lock: false,\r\n\r\n  ignore: null,\r\n\r\n  plugin: 'SimpleBar',\r\n  options: null,\r\n\r\n  color: null,\r\n  autohide: true\r\n}\r\n\r\nclass Scrollbar {\r\n  constructor (element, config) {\r\n    this._element\t= element\r\n    this._config = this._getConfig(config)\r\n\r\n    this._scrollbarInfo = Util.getScrollbarInfo()\r\n\r\n    this.enableScrollbars()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  enableScrollbars () {\r\n    /**\r\n    this._element.scrollTop = 0\r\n    // For firefox. Because it has persistent scroll position on page reload\r\n    // which doesn't look good when changing overflow: hidden to overflow: scroll on hover\r\n    */\r\n\r\n    // no scrollbars when specified\r\n    if (this._config.ignore !== null) {\r\n      if (this._config.ignore === 'mobile' && this._scrollbarInfo.width === 0 && 'ontouchstart' in window && window.matchMedia('(max-width: 840px)').matches) return\r\n      else if (this._config.ignore === 'desktop' && this._scrollbarInfo.width > 0) return\r\n    }\r\n\r\n    this.update(this._config.height)\r\n    this.lock(this._config.lock)\r\n\r\n    this._element.classList.remove('ace-scroll', 'ace-scroll-mob', 'ace-scroll-wrap')\r\n    if (this._config.type === 'native') {\r\n      this._addNativeScrolls()\r\n    } else if (this._config.type === 'auto') {\r\n      this._preferNativeScrolls()\r\n    } else if (this._config.type === 'plugin') {\r\n      this._addPluginScrolls()\r\n    }\r\n  }\r\n\r\n  update (_height) {\r\n    if (!_height) return\r\n    if (!isNaN(_height)) _height += 'px'\r\n    this._element.style.maxHeight = _height\r\n  }\r\n\r\n  lock (_lock) {\r\n    if (_lock) this._element.classList.add('ace-scroll-lock')\r\n    else this._element.classList.remove('ace-scroll-lock')\r\n  }\r\n\r\n  _addNativeScrolls (smooth) {\r\n    if (this._scrollbarInfo.width === 0) this._element.classList.add('ace-scroll-mob')// mobile device\r\n    else {\r\n      this._element.classList.add('ace-scroll')\r\n\r\n      if (this._config.color !== null) this._element.classList.add('ace-scroll-' + this._config.color)\r\n      if (this._config.autohide === false) this._element.classList.add('is-always-on')\r\n\r\n      const _smooth = typeof smooth !== 'undefined' ? smooth : this._config.smooth\r\n      if (_smooth) {\r\n        // wrap children inside an .ace-scroll-inner\r\n        const wrapper = document.createElement('div')\r\n        wrapper.classList.add('ace-scroll-inner')\r\n        wrapper.style.color = window.getComputedStyle(this._element).color\r\n\r\n        while (this._element.firstChild) {\r\n          wrapper.appendChild(this._element.firstChild)\r\n        }\r\n        this._element.appendChild(wrapper)\r\n\r\n        /// ///////\r\n        // disable the initial transition effects\r\n        this._element.style.transition = 'none'\r\n\r\n        this._element.classList.add('ace-scroll-wrap')\r\n        this._element.offsetHeight// reflow\r\n        this._element.style.transition = ''\r\n      }\r\n    }\r\n  }\r\n\r\n  _preferNativeScrolls () {\r\n    if (this._scrollbarInfo.width === 0 || this._scrollbarInfo.overlay || this._scrollbarInfo.thin || !this._hasScrollbarPlugin()) {\r\n      this._addNativeScrolls()\r\n    } else {\r\n      this._addPluginScrolls()\r\n    }\r\n  }\r\n\r\n  _addPluginScrolls () {\r\n    if (this._hasScrollbarPlugin()) {\r\n      return new window[this._config.plugin](this._element, this._config.options)\r\n    } else {\r\n      this._addNativeScrolls()\r\n    }\r\n  }\r\n\r\n  _hasScrollbarPlugin () {\r\n    return !!window[this._config.plugin]\r\n  }\r\n\r\n  _getConfig (config) {\r\n    let options = this._element.getAttribute('ace-scroll') || this._element.getAttribute('data-ace-scroll') || {}\r\n    if (!isNaN(options)) options = { height: parseInt(options) }\r\n    else if (options.length > 1) {\r\n      try {\r\n        options = JSON.parse(options)\r\n      } catch (e) {}\r\n    }\r\n\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {},\r\n      ...typeof options === 'object' && options ? options : {}\r\n    }\r\n\r\n    if (typeof window.bootstrap !== 'undefined') {\r\n      window.bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element, config = null) {\r\n    if (!element) throw new Error('element for Scrollbar is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new Scrollbar(element, config)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      let options = this.getAttribute('ace-scroll') || this.getAttribute('data-ace-scroll') || {}\r\n      if (!isNaN(options)) options = { height: parseInt(options) }\r\n      else if (options.length > 1) {\r\n        try {\r\n          options = JSON.parse(options)\r\n        } catch (e) {}\r\n      }\r\n\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {},\r\n        ...typeof options === 'object' && options ? options : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = Scrollbar.getInstance(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\nif (typeof window.jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n\r\n  $(window).on(Event.LOAD_DATA_API, () => {\r\n    const scrollbars = ([].slice.call(document.querySelectorAll(Selector.ACE_SCROLL))).concat([].slice.call(document.querySelectorAll(Selector.DATA_ACE_SCROLL)))\r\n\r\n    for (let i = 0; i < scrollbars.length; i++) {\r\n      const $scrollbars = $(scrollbars[i])\r\n      Scrollbar._jQueryInterface.call($scrollbars, $scrollbars.data())\r\n    }\r\n  })\r\n\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Scrollbar._jQueryInterface\r\n  $.fn[NAME].Constructor = Scrollbar\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Scrollbar._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Scrollbar\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): sidebar.js\r\n   Handling Sidebar\r\n*/\r\n\r\nimport Util from './util'\r\nimport EventHandler from './event-handler'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceSidebar'\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.sidebar'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`,\r\n  COLLAPSE: `collapse${EVENT_KEY}`,\r\n  EXPAND: `expand${EVENT_KEY}`,\r\n  SHOWN: `shown${EVENT_KEY}`,\r\n  HIDDEN: `hidden${EVENT_KEY}`,\r\n  COLLAPSED: `collapsed${EVENT_KEY}`,\r\n  EXPANDED: `expanded${EVENT_KEY}`,\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`,\r\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  SIDEBAR: '.sidebar',\r\n  DATA_TOGGLE: '[data-toggle=\"sidebar\"]',\r\n  DATA_TOGGLE_MOBILE: '[data-toggle-mobile=\"sidebar\"]'\r\n}\r\n\r\nconst DefaultType = {\r\n  swipe: 'boolean',\r\n  dismiss: 'boolean',\r\n  backdrop: 'boolean',\r\n\r\n  gotoactive: 'boolean',\r\n  subscroll: 'boolean',\r\n  subtoggle: 'boolean',\r\n\r\n  pullup: 'boolean'\r\n}\r\n\r\nconst Default = {\r\n  swipe: false,\r\n  dismiss: false,\r\n  backdrop: false,\r\n\r\n  gotoactive: false,\r\n  subscroll: true,\r\n  subtoggle: true,\r\n\r\n  pullup: false\r\n}\r\n\r\nconst ClassName = {\r\n  DESKTOP_HIDE: 'collapsed',\r\n  MOBILE_SHOW: 'sidebar-visible',\r\n  COLLAPSED:\t'collapsed',\r\n\r\n  TOGGLING: 'toggling',\r\n\r\n  INNER_HOVER: 'is-hover',\r\n\r\n  BACKDROP: 'sidebar-backdrop',\r\n\r\n  HORIZONTAL: 'sidebar-h'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Sidebar {\r\n  constructor (element, config) {\r\n    this._config = this._getConfig(config)\r\n\r\n    this._hasTransitionEvent = false\r\n    this._hasTransitionEventMobile = false\r\n    this._isTransitioning = false\r\n    this._isTransitioningMobile = false\r\n\r\n    this._sidebar = element\r\n\r\n    Util.reflow(this._sidebar) // force reflow, so that if we instantly call 'collapse' or 'expand', transition effect takes place\r\n    this._sidebar.classList.add('sidebar')\r\n    this._inner = this._sidebar.querySelector('.sidebar-inner')\r\n    this._scroller = this._sidebar.querySelector('[class*=\"ace-scroll\"]')\r\n\r\n    this._isSubOpening = false\r\n    if (this._sidebar.querySelector('.submenu.show') !== null) this._sidebar.classList.add('has-open')\r\n\r\n    this._pullupEnabled = false\r\n    this._pullupCallback = null\r\n\r\n    this._triggerArray = [].slice.call(document.querySelectorAll(\r\n      `[data-toggle=\"sidebar\"][href=\"#${element.id}\"],` +\r\n      `[data-toggle=\"sidebar\"][data-target=\"#${element.id}\"]`\r\n    ))\r\n    this._triggerArrayMobile = [].slice.call(document.querySelectorAll(\r\n      `[data-toggle-mobile=\"sidebar\"][href=\"#${element.id}\"],` +\r\n      `[data-toggle-mobile=\"sidebar\"][data-target=\"#${element.id}\"]`\r\n    ))\r\n\r\n    this._horizontal = this._sidebar.classList.contains(ClassName.HORIZONTAL)\r\n    this._desktopCollapsedClass = this._triggerArray.length > 0 ? (this._triggerArray[0].getAttribute('data-toggle-class') || ClassName.DESKTOP_HIDE) : ClassName.DESKTOP_HIDE\r\n\r\n    //\r\n    this._collapsed = this._sidebar.classList.contains(this._desktopCollapsedClass)\r\n    this._hidden = !this._sidebar.classList.contains(ClassName.MOBILE_SHOW)\r\n\r\n    EventHandler.on(this._inner, 'focus', 'input', (e) => {\r\n      if (!this._collapsed) return\r\n      this._inner.classList.add('has-focus')\r\n      EventHandler.one(e.delegateTarget, 'blur', () => {\r\n        this._inner.classList.remove('has-focus')\r\n      })\r\n    })\r\n    //\r\n\r\n    this._handleTriggerEvents()\r\n\r\n    if (this._config.subtoggle) this.enableSubmenuToggle()\r\n\r\n    if (this._config.pullup) this.enableSubmenuPullup()\r\n    if (this._config.gotoactive) this.scrollToActive()\r\n    if (this._config.backdrop) {\r\n      this._sidebar.classList.add(ClassName.BACKDROP)\r\n    } else if (this._sidebar.classList.contains(ClassName.BACKDROP)) {\r\n      this._config.backdrop = true\r\n    }\r\n\r\n    if (!this._horizontal && this._collapsed) {\r\n      this._addTransitionEvent()\r\n    }\r\n  }\r\n\r\n  // Getters\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  _handleTriggerEvents () {\r\n    this._triggerArray.forEach((el) => {\r\n      el.addEventListener('click', () => this.toggle(el))\r\n    })\r\n\r\n    this._triggerArrayMobile.forEach((el) => {\r\n      el.addEventListener('click', () => this.toggleMobile(el))\r\n    })\r\n  }\r\n\r\n  toggle (btn = null) {\r\n    if (this._sidebar.classList.contains(this._desktopCollapsedClass)) {\r\n      this.expand(btn)\r\n    } else {\r\n      this.collapse(btn)\r\n    }\r\n  }\r\n\r\n  toggleMobile (btn = null) {\r\n    if (!this._sidebar.classList.contains(ClassName.MOBILE_SHOW)) {\r\n      this.show(btn)\r\n    } else {\r\n      this.hide(btn)\r\n    }\r\n  }\r\n\r\n  /// ////\r\n\r\n  expand (btn = null) {\r\n    if (!this._hasTransitionEvent) this._addTransitionEvent()\r\n    if (this._isTransitioning || !this._collapsed) return\r\n\r\n    const ev = EventHandler.trigger(this._sidebar, Event.EXPAND)\r\n    if (ev.defaultPrevented) return\r\n\r\n    this._isTransitioning = true\r\n    this._collapsed = false\r\n\r\n    this._sidebar.classList.add(ClassName.TOGGLING)\r\n    this._sidebar.classList.remove(this._desktopCollapsedClass)\r\n\r\n    this._updateTriggerBtns(this._triggerArray, true)\r\n\r\n    /**\r\n     * If no transition or horizontal or in mobile view (width == 0)\r\n     */\r\n    if (Util.isReducedMotion() || this._sidebar.classList.contains('no-transition') || this._horizontal || this._sidebar.offsetWidth === 0) this._toggleCompleted()// call completion now\r\n\r\n    //\r\n    if (this._pullupEnabled) this._resetPullUp()\r\n  }\r\n\r\n  collapse (btn = null) {\r\n    if (!this._hasTransitionEvent) this._addTransitionEvent()\r\n    if (this._isTransitioning || this._collapsed) return\r\n\r\n    const ev = EventHandler.trigger(this._sidebar, Event.COLLAPSE)\r\n    if (ev.defaultPrevented) return\r\n\r\n    this._isTransitioning = true\r\n    this._collapsed = true\r\n\r\n    this._sidebar.classList.add(ClassName.TOGGLING)\r\n    this._sidebar.classList.add(this._desktopCollapsedClass)\r\n\r\n    this._updateTriggerBtns(this._triggerArray, false)\r\n\r\n    /**\r\n     * If no transition or horizontal or in mobile view (width == 0)\r\n     */\r\n    if (Util.isReducedMotion() || this._sidebar.classList.contains('no-transition') || this._horizontal || this._sidebar.offsetWidth === 0) this._toggleCompleted()// call completion now\r\n\r\n    //\r\n    if (this._pullupEnabled) this._resetPullUp()\r\n\r\n    // if the triggering button is inside sidebar and we want it to remain expanded (.let-expanded), add .is-hover class as well\r\n    if (btn !== null && this._sidebar.classList.contains('expandable') && this._sidebar.classList.contains('let-expanded') && this._inner.contains(btn)) {\r\n      this._inner.classList.add(ClassName.INNER_HOVER)\r\n    }\r\n  }\r\n\r\n  isCollapsed () {\r\n    return this._collapsed\r\n  }\r\n\r\n  show (btn = null) {\r\n    if (!this._hasTransitionEventMobile) this._addTransitionEventMobile()\r\n    if (this._isTransitioningMobile || !this._hidden) return\r\n\r\n    const ev = EventHandler.trigger(this._sidebar, Event.SHOW)\r\n    if (ev.defaultPrevented) return\r\n\r\n    this._isTransitioningMobile = true\r\n    this._hidden = false\r\n\r\n    this._sidebar.classList.add(ClassName.MOBILE_SHOW)\r\n    this._updateTriggerBtns(this._triggerArrayMobile, true)\r\n\r\n    // hide sidebar if clicked outside of it\r\n    if (this._config.dismiss) {\r\n      this._triggerArrayMobile.forEach((el) => { el.style.pointerEvents = 'none' }) // disable this button, because if we click on it, it will hide and then instantly show the sidebar again\r\n\r\n      EventHandler.on(document, 'mouseup.sidebar-dismiss', (e) => {\r\n        if (!this._inner.contains(e.target)) { // if clicked outside sidebar\r\n          this.hide()\r\n        }\r\n      })\r\n    }\r\n\r\n    if (this._config.swipe) this.enableSwipeHide()\r\n\r\n    if (Util.isReducedMotion()) this._toggleMobileCompleted()// call completion now\r\n\r\n    // in some webkit mobile browsers, sidebar scrolling works but scrollbars are not visible, unless something like this forces it to become visible\r\n    if (this._scroller && !this._scroller.classList.contains('overflow-hidden')) {\r\n      this._scroller.classList.add('overflow-hidden')\r\n      Util.reflow(this._scroller)// force redraw\r\n      this._scroller.classList.remove('overflow-hidden')\r\n    }\r\n\r\n    // hide body scrollbars\r\n    // if sidebar is fixed and has backdrop or is .sidebar-push\r\n    const scrollbarInfo = Util.getScrollbarInfo()\r\n    if (scrollbarInfo.width === 0 && this._sidebar.classList.contains('sidebar-fixed') && (this._config.backdrop || this._sidebar.classList.contains('sidebar-push'))) {\r\n      document.body.classList.add('mob-sidebar-body')\r\n    }\r\n  }\r\n\r\n  hide (btn = null) {\r\n    if (!this._hasTransitionEventMobile) this._addTransitionEventMobile()\r\n    if (this._isTransitioningMobile || this._hidden) return\r\n\r\n    const ev = EventHandler.trigger(this._sidebar, Event.HIDE)\r\n    if (ev.defaultPrevented) return\r\n\r\n    this._isTransitioningMobile = true\r\n    this._hidden = true\r\n\r\n    this._sidebar.classList.remove(ClassName.MOBILE_SHOW)\r\n    this._updateTriggerBtns(this._triggerArrayMobile, false)\r\n\r\n    if (this._config.dismiss) {\r\n      this._triggerArrayMobile.forEach((el) => { el.style.pointerEvents = '' })\r\n      EventHandler.off(document, '.sidebar-dismiss')\r\n    }\r\n    if (this._config.swipe) {\r\n      EventHandler.off(document, '.sidebar-swipe')\r\n    }\r\n\r\n    if (Util.isReducedMotion()) this._toggleMobileCompleted()// call completion now\r\n  }\r\n\r\n  isHidden () {\r\n    return this._hidden\r\n  }\r\n\r\n  _updateTriggerBtns (btns, expanded = false) {\r\n    for (let i = 0, len = btns.length; i < len; i++) {\r\n      if (expanded) btns[i].classList.remove(ClassName.COLLAPSED)\r\n      else btns[i].classList.add(ClassName.COLLAPSED)\r\n\r\n      btns[i].setAttribute('aria-expanded', expanded)\r\n    }\r\n  }\r\n\r\n  _toggleCompleted () {\r\n    this._isTransitioning = false\r\n    this._sidebar.classList.remove(ClassName.TOGGLING)\r\n\r\n    const expanded = !this._sidebar.classList.contains(this._desktopCollapsedClass)\r\n    if (expanded) {\r\n      this._inner.classList.remove(ClassName.INNER_HOVER)\r\n      EventHandler.trigger(this._sidebar, Event.EXPANDED)\r\n    } else {\r\n      EventHandler.trigger(this._sidebar, Event.COLLAPSED)\r\n    }\r\n  }\r\n\r\n  _toggleMobileCompleted () {\r\n    this._isTransitioningMobile = false\r\n    const shown = this._sidebar.classList.contains(ClassName.MOBILE_SHOW)\r\n    if (shown) EventHandler.trigger(this._sidebar, Event.SHOWN)\r\n    else {\r\n      document.body.classList.remove('mob-sidebar-body')\r\n      if (this._config.swipe) {\r\n        document.body.classList.remove('mob-sidebarswipe-body')\r\n      }\r\n\r\n      EventHandler.trigger(this._sidebar, Event.HIDDEN)\r\n    }\r\n  }\r\n\r\n  _addTransitionEvent () {\r\n    if (this._hasTransitionEvent) return\r\n    this._hasTransitionEvent = true\r\n    let counter = 0\r\n\r\n    this._sidebar.addEventListener('transitionend', (e) => {\r\n      if (e.target !== this._sidebar) return// make sure its not the children triggerring the event!\r\n\r\n      this._toggleCompleted()\r\n\r\n      counter = 0\r\n    })\r\n\r\n    // add 'is-hover' class to '.sidebar-inner' when it becomes expanded (i.e. when mouse hovers it)\r\n    this._inner.addEventListener('transitionstart', (e) => {\r\n      // skip on mobile (in which propertyName is `transform`)\r\n      if (e.target !== this._inner || this._isTransitioning || e.propertyName !== 'width') return\r\n\r\n      counter++\r\n      if (counter === 1) this._inner.classList.add(ClassName.INNER_HOVER)\r\n    })\r\n\r\n    this._inner.addEventListener('transitionend', (e) => {\r\n      // skip `transitionend` on mobile (in which propertyName is `transform`)\r\n      if (e.target !== this._inner || e.propertyName !== 'width') return\r\n\r\n      if (this._inner.clientWidth < 140) {\r\n        // just to make sure we remove the extra class name when not needed\r\n        this._inner.classList.remove(ClassName.INNER_HOVER)\r\n        counter = 0\r\n        // blur input element\r\n        if (document.activeElement.tagName === 'INPUT' && this._inner.contains(document.activeElement)) document.activeElement.blur()\r\n      }\r\n    })\r\n  }\r\n\r\n  _addTransitionEventMobile () {\r\n    if (this._hasTransitionEventMobile) return\r\n    this._hasTransitionEventMobile = true\r\n\r\n    this._inner.addEventListener('transitionstart', (e) => {\r\n      if (e.target !== this._inner || e.propertyName !== 'transform') return\r\n\r\n      this._toggleMobileCompleted()\r\n    })\r\n  }\r\n\r\n  // swipe to hide sidebar\r\n  enableSwipeHide () {\r\n    let x1 = 0\r\n    let y1 = 0\r\n    let swipeDir = 0\r\n\r\n    let isRTL = false\r\n    let lastX = 0\r\n\r\n    let pushContent = false\r\n    let sidebarWidth = 0\r\n\r\n    const touchMoveCallback = (ev) => {\r\n      const touches = ev.changedTouches[0] || null\r\n      if (!touches) return\r\n\r\n      const newX = touches.pageX\r\n      const newY = touches.pageY\r\n      lastX = newX\r\n\r\n      if (swipeDir === 0) {\r\n        const diffY = Math.abs(y1 - newY)\r\n        const diffX = Math.abs(x1 - newX)\r\n\r\n        if (diffY > diffX) {\r\n          swipeDir = 2// vertical i.e. scroll\r\n          if (this._scroller) this._scroller.classList.remove('overflow-hidden')\r\n          document.body.classList.remove('mob-sidebarswipe-body')\r\n\r\n          EventHandler.off(document, 'touchmove.sidebar-swipe')\r\n        } else if (diffX > 10) {\r\n          swipeDir = 1// horizontal swipe\r\n          this._inner.setAttribute('style', 'transition: none !important; touch-action: none;')\r\n          if (this._scroller) this._scroller.classList.add('overflow-hidden')\r\n          document.body.classList.add('mob-sidebarswipe-body')\r\n        }\r\n      }\r\n      if (swipeDir !== 1) return\r\n\r\n      const moveX = parseInt(x1 - newX)\r\n      if ((!isRTL && moveX > 0) || (isRTL && moveX < 0)) { // move it outside of view\r\n        this._inner.style.transform = 'translateX(' + (-1 * moveX) + 'px)'\r\n        if (pushContent) this._sidebar.style.width = (sidebarWidth - (moveX > 0 ? moveX : -1 * moveX)) + 'px'\r\n      } else {\r\n        this._inner.style.transform = ''\r\n        if (pushContent) this._sidebar.style.width = ''\r\n      }\r\n    }\r\n\r\n    let t1 = 0\r\n    EventHandler.on(document, 'touchstart.sidebar-swipe', (e) => {\r\n      const touches = e.changedTouches[0] || null\r\n      if (!touches) return\r\n\r\n      x1 = touches.pageX\r\n      y1 = touches.pageY\r\n\r\n      t1 = Date.now()\r\n      isRTL = Util.isRTL()\r\n\r\n      pushContent = this._sidebar.classList.contains('sidebar-push')\r\n      if (pushContent) {\r\n        sidebarWidth = this._sidebar.clientWidth\r\n        this._sidebar.style.minWidth = 'auto'\r\n        this._sidebar.style.transition = 'none'\r\n      }\r\n\r\n      EventHandler.on(document, 'touchmove.sidebar-swipe', (e) => {\r\n        touchMoveCallback(e)\r\n      })\r\n    })\r\n\r\n    const touchEndHandler = (e) => {\r\n      const touches = e.changedTouches[0] || null\r\n      // if (!touches) return // in case we're coming from a `dismiss` mouseup event\r\n\r\n      this._inner.setAttribute('style', '')\r\n      if (pushContent) {\r\n        this._sidebar.style.width = ''\r\n        this._sidebar.style.minWidth = ''\r\n        this._sidebar.style.transition = ''\r\n      }\r\n\r\n      const x2 = touches !== null ? touches.pageX : lastX\r\n      const t2 = Date.now()\r\n\r\n      if (swipeDir === 1 &&\r\n          ( // dismiss if moved by more than 100px or moved more than 40px in a short time (less than 300ms)\r\n            (!isRTL && (x1 - x2 > 100 || (x1 - x2 > 40 && t2 - t1 < 300))) || (isRTL && (x1 - x2 < -100 || (x1 - x2 < -40 && t2 - t1 < 300)))\r\n          )\r\n      ) { // if moved more than 100px or 40px in less than 300ms\r\n        this.hide()\r\n      } else {\r\n        // remove '.mob-sidebarswipe-body' to bring back body scrollbars if sidebar isn't swiped to hide\r\n        // but we probably won't have body scrollbars because of `.mob-sidebar-body`\r\n        document.body.classList.remove('mob-sidebarswipe-body')\r\n      }\r\n\r\n      // bring back sidebar scrollbars\r\n      if (this._scroller) this._scroller.classList.remove('overflow-hidden')\r\n\r\n      swipeDir = 0\r\n    }\r\n\r\n    EventHandler.on(document, 'touchend.sidebar-swipe', touchEndHandler)\r\n    EventHandler.on(document, 'touchcancel.sidebar-swipe', touchEndHandler)\r\n  }\r\n\r\n  enableSubmenuToggle () {\r\n    this._isSubOpening = false\r\n    const _jQueryBS = typeof jQuery !== 'undefined' && typeof bootstrap !== 'undefined'\r\n\r\n    EventHandler.on(this._sidebar, 'click', '.dropdown-toggle', (ev) => {\r\n      ev.preventDefault()\r\n      if (this._isSubOpening) return\r\n\r\n      const navItem = Util.closest(ev.delegateTarget, '.nav-item')// get the parent LI.nav-item\r\n      const subMenu = navItem.querySelector('* > .submenu')// get the direct submenu (not the children)\r\n      const navLink = navItem.querySelector('* > .nav-link')// get the parent LI.nav-item\r\n\r\n      if (!subMenu || !navLink) return\r\n\r\n      if ((this._collapsed && this._sidebar.classList.contains('hoverable')) || this._sidebar.classList.contains('sidebar-hover')) {\r\n        // don't toggle submenu if submenu is supposed to be displayed as popup (this includes horizontal sidebar when it's `.sidebar-hover`)\r\n        if (window.getComputedStyle(subMenu).position === 'absolute') return\r\n      }\r\n\r\n      if (subMenu.classList.contains('collapsing')) return// don't toggle in the middle of toggling\r\n\r\n      // hide sibling submenus\r\n      navItem.classList.add('is-toggling')\r\n      navItem.parentNode.querySelectorAll('* > .nav-item.open').forEach((_item) => {\r\n        if (_item === navItem) return\r\n        _item.classList.add('is-toggling')\r\n\r\n        _item.classList.remove('open')\r\n\r\n        const sub = _item.querySelector('* > .submenu.show')\r\n        if (sub) {\r\n          if (_jQueryBS) window.jQuery(sub).collapse('hide')\r\n          else sub.classList.remove('show')\r\n        }\r\n      })\r\n\r\n      // toggle submenu\r\n      if (navItem.classList.contains('open')) {\r\n        navItem.classList.remove('open')\r\n        navLink.classList.add('collapsed')\r\n\r\n        this._sidebar.classList.remove('has-open')\r\n\r\n        if (_jQueryBS) window.jQuery(subMenu).collapse('hide')\r\n        else subMenu.classList.remove('show')\r\n      } else {\r\n        this._isSubOpening = true\r\n\r\n        navItem.classList.add('open')\r\n        navLink.classList.remove('collapsed')\r\n\r\n        this._sidebar.classList.add('has-open')\r\n\r\n        if (_jQueryBS) window.jQuery(subMenu).collapse('show')\r\n        else subMenu.classList.add('show')\r\n      }\r\n\r\n      if (_jQueryBS) {\r\n        if (!subMenu.getAttribute('data-sub-event')) {\r\n          subMenu\r\n            .setAttribute('data-sub-event', 'true')\r\n\r\n          window.jQuery(subMenu).on('shown.bs.collapse.is-toggling hidden.bs.collapse.is-toggling', () => {\r\n            this._submenuIsToggled()\r\n          })\r\n        }\r\n      } else {\r\n        this._submenuIsToggled()\r\n      }\r\n\r\n      if (navItem && navItem.classList.contains('open')) this._submenuScroll(subMenu)\r\n    })\r\n  }\r\n\r\n  _submenuIsToggled () {\r\n    this._isSubOpening = false\r\n\r\n    this._sidebar.querySelectorAll('.is-toggling').forEach((el) => {\r\n      el.classList.remove('is-toggling')\r\n    })\r\n\r\n    // firefox continues to disable scroll chaining when sidebar is not scrollable anymore, so a little fix around here\r\n    if ('MozAppearance' in document.documentElement.style) {\r\n      if (this._scroller === null) return\r\n      if (this._scroller.scrollHeight <= this._scroller.clientHeight) {\r\n        this._scroller.style.overscrollBehavior = 'auto'\r\n      } else this._scroller.style.overscrollBehavior = ''\r\n    }\r\n  }\r\n\r\n  // scroll submenu into view (only on modern browsers)\r\n  _submenuScroll (subMenu, delay = 150) {\r\n    if (subMenu && !Util.isReducedMotion() && 'scrollBehavior' in document.documentElement.style && this._config.subscroll && this._sidebar.classList.contains('sidebar-fixed')) {\r\n      if (this._sidebar.classList.contains(ClassName.HORIZONTAL)) {\r\n        if (window.getComputedStyle(subMenu).position === 'absolute') return // no scroll for desktop horizontal menu (when it's not `.sidebar-hover`)\r\n      }\r\n\r\n      setTimeout(() => {\r\n        subMenu.scrollIntoView({\r\n          behavior: 'smooth',\r\n          block: 'nearest'\r\n        })\r\n      }, delay)\r\n    }\r\n  }\r\n\r\n  enableSubmenuPullup () {\r\n    if (this._pullupEnabled) return\r\n    this._pullupEnabled = true\r\n\r\n    const marginProp = 'margin-' + (!Util.isRTL() ? 'left' : 'right')\r\n\r\n    if (this._pullupCallback === null) {\r\n      this._pullupCallback = (ev) => {\r\n        if (ev.target !== ev.delegateTarget || ev.propertyName !== marginProp || !(this._collapsed || this._sidebar.classList.contains('sidebar-hover'))) return\r\n\r\n        const subMenu = ev.target\r\n        const navItem = subMenu.parentNode\r\n\r\n        const navText = navItem.querySelector('* > .nav-link > .nav-text.fadeable')// only first level nav-text items\r\n\r\n        if (navItem) navItem.classList.remove('submenu-pullup')\r\n        subMenu.style.transform = ''\r\n        if (navText) navText.style.transform = ''\r\n\r\n        /// ///////////////////////\r\n\r\n        const rect = subMenu.getBoundingClientRect()\r\n        const wh = window.innerHeight\r\n\r\n        let diff = parseInt(rect.bottom - wh)\r\n\r\n        if (diff > 0) { // if submenu bottom is below window area\r\n          // check to see if submenu top will go out of window if we move it up by \"diff\" pixels\r\n          // also consider that the first level item's .nav-text shouldn't go out of window's top\r\n          const navTextHeight = navText ? navText.clientHeight : 0\r\n          let navbarHeight = document.querySelector('.navbar')\r\n          navbarHeight = navbarHeight ? navbarHeight.clientHeight : 0\r\n\r\n          const diff2 = rect.top - navTextHeight - diff - navbarHeight// don't go above navbar\r\n          if (diff2 < 0) diff = diff + diff2\r\n\r\n          diff = parseInt(diff) + 1// so that submenu's border is visible\r\n          if (this._collapsed) {\r\n            if (navTextHeight && diff > navTextHeight / 2 && navItem) navItem.classList.add('submenu-pullup')// this class makes the .sub-arrow's color white, to match submenu color\r\n          } else {\r\n            if (navItem) navItem.classList.add('submenu-pullup')\r\n          }\r\n\r\n          subMenu.style.transform = `translateY(-${diff}px)`\r\n          if (this._collapsed && navText) {\r\n            navText.style.transform = `translateY(-${diff}px)`\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    EventHandler.on(this._sidebar, 'transitionstart', '.submenu', this._pullupCallback)\r\n  }\r\n\r\n  disableSubmenuPullup () {\r\n    this._pullupEnabled = false\r\n    if (this._pullupCallback) EventHandler.off(this._sidebar, 'transitionstart', '.submenu', this._pullupCallback)\r\n    this._resetPullUp()\r\n  }\r\n\r\n  _resetPullUp () {\r\n    this._sidebar.querySelectorAll('.submenu-pullup').forEach((_item) => {\r\n      _item.classList.remove('submenu-pullup')\r\n      _item.querySelectorAll('.nav-text, .submenu').forEach((el) => {\r\n        el.style.transform = ''\r\n      })\r\n    })\r\n  }\r\n\r\n  // scroll active item into view\r\n  scrollToActive () {\r\n    if (!this._sidebar.classList.contains('sidebar-fixed') || this._scroller === null) return\r\n\r\n    const active = this._sidebar.querySelector('.nav-item.active:not(.open) > .nav-link')\r\n    try {\r\n      active.scrollIntoView({ behavior: 'auto', block: 'end' })// or block: \"center\"?\r\n      this._scroller.scrollTop = this._scroller.scrollTop + 30\r\n    } catch (e) {}\r\n  }\r\n\r\n  //\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof window.bootstrap !== 'undefined') {\r\n      window.bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element, config = null) {\r\n    if (!element) throw new Error('element for Sidebar is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new Sidebar(element, config)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = Sidebar.getInstance(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof window.jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n  $(window).on(Event.LOAD_DATA_API, () => {\r\n    const sidebars = [].slice.call(document.querySelectorAll(Selector.SIDEBAR))\r\n\r\n    for (let i = 0; i < sidebars.length; i++) {\r\n      const $sidebar = $(sidebars[i])\r\n      Sidebar._jQueryInterface.call($sidebar, $sidebar.data())\r\n    }\r\n  })\r\n\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Sidebar._jQueryInterface\r\n  $.fn[NAME].Constructor = Sidebar\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Sidebar._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): aside.js\r\n   Aside element based on Bootstrap's modal\r\n*/\r\n\r\nimport Util from './util'\r\nimport EventHandler from './event-handler'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceAside'\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.aside'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`\r\n}\r\n\r\nconst DefaultType = {\r\n  placement: 'string',\r\n  // margin: 'number',\r\n\r\n  fade: 'boolean',\r\n\r\n  autohide: '(boolean|number)',\r\n  dismiss: 'boolean',\r\n\r\n  blocking: 'boolean',\r\n  backdrop: '(boolean|string)',\r\n\r\n  container: 'boolean',\r\n  belowNav: 'boolean',\r\n  aboveNav: 'boolean',\r\n\r\n  width: '(boolean|number)',\r\n  height: '(boolean|number)',\r\n\r\n  scroll: '(boolean|string)'\r\n}\r\n\r\nconst Default = {\r\n  placement: 'center',\r\n  // margin: 0,\r\n\r\n  fade: false,\r\n\r\n  autohide: false,\r\n  dismiss: false,\r\n\r\n  blocking: false,\r\n  backdrop: false,\r\n\r\n  container: false,\r\n  belowNav: false,\r\n  aboveNav: false,\r\n\r\n  width: false,\r\n  height: false,\r\n\r\n  scroll: 'body'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Aside {\r\n  constructor (element, config) {\r\n    this._config = this._getConfig(config)\r\n    this.element = element\r\n\r\n    this._jQueryBS = typeof window.jQuery !== 'undefined' && typeof window.jQuery.fn.modal !== 'undefined'\r\n\r\n    this._init(this._config)\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  _init (config) {\r\n    const $ = this._jQueryBS ? window.jQuery : null\r\n\r\n    this._setPlacement(config.placement)\r\n\r\n    this.element.classList.add('ace-aside')\r\n\r\n    if (!config.blocking) {\r\n      this.element.classList.add('modal-nb')\r\n      this.element.setAttribute('data-backdrop', 'false')\r\n      if ($) {\r\n        $(this.element).data('backdrop', false)\r\n      }\r\n    } else {\r\n      if (config.backdrop) {\r\n        this.element.setAttribute('data-backdrop-bg', config.backdrop)\r\n      }\r\n      this.element.setAttribute('data-backdrop', 'true')\r\n      if ($) {\r\n        $(this.element).data('backdrop', true)\r\n      }\r\n    }\r\n\r\n    if (config.dismiss) this.element.classList.add('modal-dismiss')\r\n\r\n    if (config.fade) {\r\n      this.element.classList.add('aside-fade')\r\n      this.element.classList.add('fade')\r\n    }\r\n\r\n    if (config.belowNav) this.element.classList.add('aside-below-nav')\r\n    if (config.aboveNav) this.element.classList.add('aside-above-nav')\r\n\r\n    if (config.extraClass) this.element.className += ` ${config.extraClass}`\r\n\r\n    if (config.container) {\r\n      this.element.classList.add('container')\r\n      const bdc = document.querySelector('.body-container')\r\n      if (bdc !== null && bdc.classList.contains('container-plus')) {\r\n        this.element.classList.add('container-plus')\r\n      }\r\n    }\r\n\r\n    if (config.width) {\r\n      const dialog = this.element.querySelector('.modal-dialog')\r\n      if (dialog) {\r\n        dialog.style.width = isNaN(config.width) ? config.width : this._config.width + 'px'\r\n      }\r\n    }\r\n\r\n    if (config.height) {\r\n      const dialog = this.element.querySelector('.modal-dialog')\r\n      if (dialog) {\r\n        dialog.style.height = isNaN(config.height) ? config.height : this._config.height + 'px'\r\n      }\r\n    }\r\n\r\n    // if (/^(content|body)$/.test(config.scroll)) {\r\n    // let content = this.element.querySelector('.modal-content')\r\n    // if (content) content.classList.add('scroll-' + config.scroll)\r\n    // }\r\n\r\n    if (!$) return\r\n\r\n    $(this.element).off('shown.bs.modal.autohide')\r\n    if (config.autohide) {\r\n      $(this.element).on('shown.bs.modal.autohide', () => {\r\n        setTimeout(() => {\r\n          this.hide()\r\n        }, config.autohide)\r\n      })\r\n    }\r\n  }\r\n\r\n  _setPlacement (placement = 'center') {\r\n    const placementMap = {\r\n      t: 'aside-top',\r\n      top: 'aside-top',\r\n      tc: 'aside-top aside-c',\r\n      tr: 'aside-top aside-r',\r\n      tl: 'aside-top aside-l',\r\n\r\n      b: 'aside-bottom',\r\n      bottom: 'aside-bottom',\r\n      bc: 'aside-bottom aside-c',\r\n      br: 'aside-bottom aside-r',\r\n      bl: 'aside-bottom aside-l',\r\n\r\n      r: 'aside-right',\r\n      right: 'aside-right',\r\n      rc: 'aside-right aside-m',\r\n\r\n      l: 'aside-left',\r\n      left: 'aside-left',\r\n      lc: 'aside-left aside-m',\r\n\r\n      c: 'aside-center',\r\n      center: 'aside-center'\r\n    }\r\n\r\n    placement = placement || 'c'\r\n    const className = placementMap[placement] || 'aside-center'\r\n    if (placement === 'c' || placement === 'center') {\r\n      this._config.fade = true\r\n      this.element.classList.remove('container')\r\n    }\r\n\r\n    this.element.className = this.element.className + ' ' + className\r\n  }\r\n\r\n  // Public methods\r\n  show () {\r\n    const event = EventHandler.trigger(this.element, Event.SHOW)\r\n    if (event.defaultPrevented) {\r\n      return\r\n    }\r\n\r\n    if (this._jQueryBS) {\r\n      window.jQuery(this.element).modal('show')\r\n    }\r\n  }\r\n\r\n  hide () {\r\n    const event = EventHandler.trigger(this.element, Event.HIDE)\r\n    if (event.defaultPrevented) {\r\n      return\r\n    }\r\n\r\n    if (this._jQueryBS) {\r\n      window.jQuery(this.element).modal('hide')\r\n    }\r\n  }\r\n\r\n  // Private methods\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (this._jQueryBS) {\r\n      window.bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element, config = null) {\r\n    if (!element) throw new Error('element for Aside is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new Aside(element, config)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = Aside.getInstance(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n\r\n  /// ///////////////////////\r\n  /// ///////////////////////\r\n  /// ///////////////////////////\r\n  static _HandleAside () {\r\n    const _jQueryBS = typeof window.jQuery !== 'undefined' && typeof window.jQuery.fn.modal !== 'undefined'\r\n    if (!_jQueryBS) return\r\n    const $ = window.jQuery\r\n\r\n    const visibleModalSelector = '.modal.show:not(.modal-nb)'\r\n\r\n    document.querySelectorAll('.ace-aside.modal-nb').forEach((el) => el.setAttribute('data-backdrop', 'false'))\r\n\r\n    $('.ace-aside.modal-nb').data('backdrop', false)\r\n\r\n    const onBeforeShow = (modal) => {\r\n      if (modal.classList.contains('modal-nb')) {\r\n        if (document.querySelector(visibleModalSelector) === null) { // if there are no normal modals open\r\n          document.body.classList.add('modal-nb')// disable .modal-open effects for .modal-nb\r\n        }\r\n      } else {\r\n        if (!modal.classList.contains('ace-aside')) {\r\n          // check to see if we will have modal scrollbars\r\n          modal.style.display = 'block'\r\n          if (modal.scrollHeight > modal.clientHeight) document.body.classList.add('modal-scroll')\r\n          const scrollbars = Util.getScrollbarInfo()\r\n          if (scrollbars.width === 0) document.body.classList.add('scrollbar-w0')\r\n          modal.style.display = ''\r\n        }\r\n\r\n        // set modal padding value (equal to scrollbar width)\r\n        document.body.style.setProperty('--modal-padding', (window.innerWidth - document.body.scrollWidth) + 'px')\r\n\r\n        const isModalOff = modal.className.match(/modal-off(?:(?:-([a-z]+))|\\s|$)/i)\r\n\r\n        const backdropBg = modal.getAttribute('data-backdrop-bg')\r\n        if (backdropBg || isModalOff) {\r\n          setTimeout(function () {\r\n            const backdrops = document.querySelectorAll('.modal-backdrop')\r\n            if (backdrops.length > 0) {\r\n              const backdrop = backdrops[backdrops.length - 1]\r\n              if (backdropBg) backdrop.classList.add(backdropBg)\r\n\r\n              // add d-{sm|md|lg|xl}-none to backdrop\r\n              if (isModalOff) {\r\n                const modalOff = (isModalOff[1] && isModalOff[1].length > 0) ? `-${isModalOff[1]}` : ''\r\n                backdrop.classList.add(`d${modalOff}-none`)\r\n              }\r\n            }\r\n          }, 0)\r\n        }\r\n\r\n        const blur = modal.getAttribute('data-blur')\r\n        if (blur !== null && window.CSS) {\r\n          /**\r\n           // using `backdrop-filter` is less intrusive but doesn't have the same blur effect\r\n            if (window.CSS.supports(\"backdrop-filter\", \"none\")) {\r\n            setTimeout(function () {\r\n              $('.modal-backdrop:last-child').addClass('modal-blur')\r\n            }, 0)\r\n          }\r\n          else */\r\n          if (window.CSS.supports('filter', 'none')) {\r\n            const bodyContainer = document.querySelector('.body-container')\r\n            if (bodyContainer !== null) {\r\n              document.body.classList.add('modal-blur')\r\n              bodyContainer.style.filter = 'blur(' + blur + ')'\r\n\r\n              const modalParent = modal.parentNode\r\n              const modalSibling = modal.nextSibling\r\n\r\n              document.body.appendChild(modal)\r\n\r\n              $(modal).one('hidden.bs.modal.blur', () => {\r\n                modalParent.insertBefore(modal, modalSibling)\r\n                document.body.classList.remove('modal-blur')\r\n                bodyContainer.style.filter = ''\r\n              })\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /// /////////////////////////////\r\n    const onAfterShow = (modal) => {\r\n      if (modal.classList.contains('modal-nb')) {\r\n        document.body.classList.remove('modal-nb')\r\n\r\n        if (document.querySelector(visibleModalSelector) === null) { // if no blocking modals\r\n          document.body.classList.remove('modal-open')// disable .modal-open effects\r\n          document.body.style.paddingRight = ''// and remove paddingRight\r\n        }\r\n\r\n        if (modal.classList.contains('modal-dismiss') || modal.getAttribute('data-dismiss') === 'true') {\r\n          modal._dismissAsideEvent = ($event) => {\r\n            if (!modal.contains($event.target)) { // clicked outside modal\r\n              // why timeout?\r\n              // because if we click on the same button that triggers this modal, its 'hide' function will be called and instantly followed by 'show' function\r\n              // so we first let 'show' be called and then we call 'hide'\r\n              document.removeEventListener('mouseup', modal._dismissAsideEvent)\r\n              modal._dismissAsideEvent = null\r\n\r\n              setTimeout(() => {\r\n                $(modal).modal('hide')\r\n              }, 0)\r\n            }\r\n          }\r\n          // why `mouseup`? because 'click' may get 'stopPropagated' in some plugins such as Bootstrap's dropdown\r\n          document.addEventListener('mouseup', modal._dismissAsideEvent)\r\n        }\r\n      }\r\n    }\r\n\r\n    const onAfterHide = (modal) => {\r\n      if (document.querySelector(visibleModalSelector) === null) document.body.style.paddingRight = ''// required for rare cases that body padding is still not cleared\r\n      else document.body.classList.add('modal-open') // sometimes an aside is closed (so .modal-open is removed) but a .modal is still open (so we add .modal-open again)\r\n\r\n      if (!modal.classList.contains('modal-nb')) {\r\n        document.body.classList.remove('modal-scroll')\r\n        document.body.classList.remove('scrollbar-w0')\r\n      }\r\n\r\n      if (typeof modal._dismissAsideEvent === 'function') {\r\n        document.removeEventListener('mouseup', modal._dismissAsideEvent)\r\n      }\r\n    }\r\n\r\n    /// //////////////////////////////////////\r\n    $(document)\r\n      .on('show.bs.modal', '.modal', (e) => {\r\n        if (e.defaultPrevented || e.isDefaultPrevented()) return\r\n        onBeforeShow(e.target)\r\n      })\r\n      .on('shown.bs.modal', '.modal', function (e) {\r\n        onAfterShow(e.target)\r\n      })\r\n      .on('hidden.bs.modal', '.modal', function (e) {\r\n        onAfterHide(e.target)\r\n      })\r\n\r\n    // enable modal functionality for modal boxes and asides that are shown (.show) by default\r\n    $('.modal.show').modal('show')\r\n  }// _HandleAside\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n  Aside._HandleAside()\r\n\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Aside._jQueryInterface\r\n  $.fn[NAME].Constructor = Aside\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Aside._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Aside\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): toaster.js\r\n   Wrapper for Bootstrap's toast elements\r\n*/\r\n\r\nimport Util from './util'\r\nimport EventHandler from './event-handler'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceToaster'\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.toaster'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  CLEAR: `clear${EVENT_KEY}`,\r\n  ADD: `add${EVENT_KEY}`,\r\n  ADDED: `added${EVENT_KEY}`\r\n}\r\n\r\nconst DefaultType = {\r\n  placement: 'string',\r\n  close: 'boolean',\r\n  autoremove: 'boolean',\r\n  delay: 'number',\r\n  template: 'string',\r\n  alert: 'boolean'\r\n}\r\n\r\nconst Default = {\r\n  placement: 'tr',\r\n  close: true,\r\n  autoremove: true,\r\n  delay: 2500,\r\n  template: '<div class=\"toast\"><div class=\"d-flex\"><div class=\"toast-image\"></div><div class=\"toast-main\"><div class=\"toast-header\"></div><div class=\"toast-body\"></div></div></div></div>',\r\n  alert: true\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Toaster {\r\n  constructor () {\r\n    this._lastToastId = 0\r\n    this.element = null\r\n\r\n    this._jQueryBS = typeof window.jQuery !== 'undefined' && typeof window.bootstrap !== 'undefined'\r\n    this._tempParent = document.createElement('DIV')\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  // Public methods\r\n  add (config) {\r\n    const _config = this._getConfig(config)\r\n\r\n    const newToast = Util.append(this._tempParent, _config.template)\r\n\r\n    this._lastToastId++\r\n    newToast.classList.add('ace-toaster-item')\r\n    newToast.id = `ace-toaster-item-${this._lastToastId}`\r\n    newToast.setAttribute('aria-atomic', 'true')\r\n\r\n    if (_config.alert) {\r\n      newToast.setAttribute('role', 'alert')\r\n      newToast.setAttribute('aria-live', 'assertive')\r\n    } else {\r\n      newToast.setAttribute('role', 'status')\r\n      newToast.setAttribute('aria-live', 'polite')\r\n    }\r\n\r\n    const toastHeader = newToast.querySelector('.toast-header')\r\n    if (_config.title && toastHeader) {\r\n      const title = typeof _config.title === 'function' ? _config.title.call(this.element, _config) : _config.title\r\n\r\n      Util.append(toastHeader, `<div class=\"toast-title ${_config.titleClass || ''}\">${title}</div>`)\r\n    }\r\n\r\n    if (_config.close) {\r\n      let close = newToast.querySelector('[data-dismiss=\"toast\"]')\r\n      if (close === null) {\r\n        close = Util.append(toastHeader, '<button type=\"button\" data-dismiss=\"toast\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>')\r\n      }\r\n\r\n      close.className += ` ${_config.closeClass || 'close'}`\r\n    }\r\n\r\n    if (_config.body) {\r\n      const body = newToast.querySelector('.toast-body')\r\n      if (body !== null) {\r\n        Util.append(body, typeof _config.body === 'function' ? _config.body.call(this.element, _config) : _config.body)\r\n        if (_config.bodyClass) body.className += ` ${_config.bodyClass}`\r\n      }\r\n    }\r\n\r\n    if (_config.image) {\r\n      const image = newToast.querySelector('.toast-image')\r\n      if (image !== null) {\r\n        Util.append(image, `<img src=\"${_config.image}\" class=\"${_config.imageClass || ''}\" />`)\r\n      }\r\n    }\r\n\r\n    if (_config.icon) {\r\n      const image = newToast.querySelector('.toast-image')\r\n      if (image !== null) {\r\n        const icon = Util.append(image, _config.icon)\r\n        if (!_config.image && _config.imageClass) {\r\n          icon.className += ` ${_config.imageClass}`\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!(_config.image || _config.icon)) newToast.querySelectorAll('.toast-image').forEach((el) => Util.remove(el))\r\n\r\n    if (_config.className) {\r\n      newToast.className += ` ${_config.className}`\r\n    }\r\n    if (_config.headerClass && toastHeader) {\r\n      toastHeader.className += ` ${_config.headerClass}`\r\n    }\r\n\r\n    // if delay is below 30, we consider it as seconds, not milliseconds\r\n    _config.delay = _config.delay > 30 ? _config.delay : _config.delay * 1000\r\n\r\n    if (_config.progress && !_config.sticky && _config.autohide !== false) {\r\n      const progress = Util.append(newToast, `<div class=\"toast-progress ${_config.progress}\"></div>`)\r\n      progress.style.transitionDuration = `${parseInt(_config.delay * 1.015)}ms`\r\n      progress.style.width = _config.progressReverse ? 'calc(100% - 1px)' : 0\r\n      // progress.offsetWidth\r\n      setTimeout(() => {\r\n        progress.style.width = _config.progressReverse ? 0 : 'calc(100% - 2px)'\r\n      }, 0)\r\n    }\r\n\r\n    return this._addToContainer(newToast, _config)\r\n  }\r\n\r\n  // add an existing toast element to our container\r\n  addEl (element, config) {\r\n    const _config = this._getConfig(config)\r\n\r\n    this.element = element\r\n    this.element.classList.add('ace-toaster-item')\r\n    if (!this.element.getAttribute('id')) this.element.setAttribute('id', `ace-toaster-item-${++this._lastToastId}`)\r\n\r\n    this._addToContainer(this.element, _config, false)\r\n  }\r\n\r\n  // add toast element to container\r\n  _addToContainer (toast, _config, isNewElement = true) {\r\n    // trigger ADD event before adding it to our container\r\n\r\n    const addEvent = EventHandler.trigger(document, Event.ADD, { target: toast })\r\n    if (addEvent.defaultPrevented) {\r\n      if (isNewElement) Util.remove(toast)\r\n      return null\r\n    }\r\n    // end of trigger\r\n\r\n    // add the toaster container to body\r\n    let container = document.querySelector(`.ace-toaster-container.position-${_config.placement}`)\r\n    if (container === null) {\r\n      container = Util.append(document.body, `<div class=\"ace-toaster-container position-${_config.placement}\"/>`)\r\n    }\r\n    if (_config.belowNav) {\r\n      container.classList.add('toaster-below-nav')\r\n    }\r\n\r\n    // this last container should appear above other ones ?\r\n    // let topContainer = document.querySelector('.ace-toaster-container-on-top')\r\n    // if (topContainer !== null) topContainer.classList.remove('ace-toaster-container-on-top')\r\n    // container.classList.add('ace-toaster-container-on-top')\r\n\r\n    // add to container\r\n    Util.append(container, toast)\r\n    Util.wrap(toast, '<div class=\"toast-wrapper\"></div>')\r\n\r\n    // without having an initial .toast element, fade-in animation isn't taking place??!!\r\n    let dummy = document.getElementById('ace-toaster-dummy-toast-1')\r\n    if (dummy === null) dummy = Util.append(document.body, '<div id=\"ace-toaster-dummy-toast-1\" class=\"toast d-none invisible\"></div>')\r\n    if (this._jQueryBS) {\r\n      window.jQuery(dummy).toast('show')\r\n    }\r\n    /// ///////////////////////////////////////////////\r\n\r\n    const _toastOptions = {}\r\n    if (_config.sticky === true || _config.autohide === false) _toastOptions.autohide = false\r\n    if (_config.animation === false) _toastOptions.animation = false\r\n    _toastOptions.delay = _config.delay\r\n\r\n    if (_config.width) toast.style.width = isNaN(_config.width) ? _config.width : _config.width + 'px'\r\n\r\n    if (this._jQueryBS) {\r\n      window.jQuery(toast)\r\n        .toast(_toastOptions)\r\n        .toast('show')\r\n        .one('hidden.bs.toast.1', function () {\r\n        // show it again (invisibly with opacity = 0) and use bootstrap Collapse plugin to hide it, so that other toasts stacked below it move up smoothly\r\n          const $toast = window.jQuery(toast)\r\n          $toast.removeClass('hide').parent().addClass('show').collapse('hide').one('hidden.bs.collapse', function () {\r\n            $toast.toast('dispose')\r\n            $toast.parent().collapse('dispose')\r\n\r\n            if (_config.autoremove) {\r\n              $toast.parent().remove()\r\n            } else {\r\n              if (!isNewElement) {\r\n                $toast.unwrap() // remove the wrapper\r\n              }\r\n            }\r\n          })\r\n        })\r\n    }\r\n\r\n    // trigger ADDED event before adding it to DOM\r\n    EventHandler.trigger(document, Event.ADDED, { target: toast })\r\n\r\n    return toast\r\n  }\r\n\r\n  // hide toasts\r\n  remove (id, instant = false) {\r\n    this.hide(id, true, instant)\r\n  }\r\n\r\n  removeAll (placement = null, instant = false) {\r\n    this.hideAll(placement, true, instant)\r\n  }\r\n\r\n  // remove toast by ID or element reference\r\n  hide (id, remove = false, instant = false) {\r\n    const selector = isNaN(id) ? id : '#ace-toaster-item-' + parseInt(id)\r\n    this._hideBySelector(selector, remove, instant)\r\n  }\r\n\r\n  // remove ALL toasts\r\n  hideAll (placement = null, remove = false, instant = false) {\r\n    // trigger CLEAR event before removing ALL\r\n    const clearEvent = EventHandler.trigger(document, Event.CLEAR, { detail: { placement: placement || 'all', remove: remove } })\r\n    if (clearEvent.defaultPrevented) {\r\n      return\r\n    }\r\n    // end of trigger\r\n\r\n    let selector = '.toast.ace-toaster-item'\r\n    if (placement) selector = `.ace-toaster-container.position-${placement} ${selector}`\r\n    this._hideBySelector(selector, remove, instant)\r\n  }\r\n\r\n  _hideBySelector (selector, remove = false, instant = false) {\r\n    if (!this._jQueryBS) return\r\n\r\n    window.jQuery(selector).each(function () {\r\n      const $toast = window.jQuery(this)\r\n      if (!instant && $toast.is(':visible')) {\r\n        // fade out and then remove\r\n        $toast.toast('hide')\r\n          .off('hidden.bs.toast.1')// remove the previous handler above (because it has autoremove)\r\n          .one('hidden.bs.toast.2', function () {\r\n            $toast.toast('dispose')\r\n            if (remove) $toast.remove()\r\n          })\r\n      } else {\r\n        $toast.toast('dispose')\r\n        // instantly remove if not visible\r\n        if (remove) $toast.remove()\r\n      }\r\n    })\r\n  }\r\n\r\n  // Private methods\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof window.bootstrap !== 'undefined') {\r\n      window.bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      config = {\r\n        ...{ autoremove: false }, // don't autoremove it\r\n        ...window.jQuery(this).data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      window.jQuery[NAME].addEl(this, config)\r\n      // jQuery[NAME] is an instance of Toaster\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof window.jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n\r\n  $[NAME] = new Toaster()\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Toaster._jQueryInterface\r\n  $.fn[NAME].Constructor = Toaster\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Toaster._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Toaster\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): card.js\r\n   Cards based on Bootstrap's cards\r\n*/\r\n\r\nimport Util from './util'\r\nimport EventHandler from './event-handler'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceCard'\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.card'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`,\r\n  SHOWN: `shown${EVENT_KEY}`,\r\n  HIDDEN: `hidden${EVENT_KEY}`,\r\n  CLOSE: `close${EVENT_KEY}`,\r\n  CLOSED: `closed${EVENT_KEY}`,\r\n  EXPAND: `expand${EVENT_KEY}`,\r\n  EXPANDED: `expanded${EVENT_KEY}`,\r\n  RESTORE: `restore${EVENT_KEY}`,\r\n  RESTORED: `restored${EVENT_KEY}`,\r\n  RELOAD: `reload${EVENT_KEY}`,\r\n  RELOADED: `reloaded${EVENT_KEY}`,\r\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  DATA_ACTION: '.card [data-action]'\r\n}\r\n\r\nconst DefaultType = {\r\n  toggle: 'boolean'\r\n}\r\n\r\nconst Default = {\r\n  toggle: true\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Card {\r\n  constructor (element, config) {\r\n    this._config = this._getConfig(config)\r\n\r\n    this.element = element\r\n    Util.reflow(this.element) // force reflow, so that if we instantly call 'close' etc, transition effect takes place\r\n\r\n    this.isTransitioning = false\r\n\r\n    this.loader = null\r\n    this._jQueryBS = typeof window.jQuery !== 'undefined' && typeof window.jQuery.fn.collapse !== 'undefined'\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  reload () {\r\n    const ev = EventHandler.trigger(this.element, Event.RELOAD)\r\n    if (ev.defaultPrevented) return\r\n\r\n    this.startLoading()\r\n  }\r\n\r\n  startLoading (loadingHtml = '<i class=\"bs-card-loading-icon fa fa-spinner fa-spin fa-2x text-white\"></i>') {\r\n    this.loader = Util.append(this.element, `<div class=\"bs-card-loading-overlay\">${loadingHtml}</div>`)\r\n  }\r\n\r\n  stopLoading () {\r\n    if (this.loader === null) return\r\n    Util.remove(this.loader)\r\n    this.loader = null\r\n\r\n    EventHandler.trigger(this.element, Event.RELOADED)\r\n  }\r\n\r\n  closeFast () {\r\n    const ev = EventHandler.trigger(this.element, Event.CLOSE)\r\n    if (ev.defaultPrevented) return\r\n\r\n    Util.remove(this.element)\r\n    EventHandler.trigger(this.element, Event.CLOSED)\r\n  }\r\n\r\n  close () {\r\n    const ev = EventHandler.trigger(this.element, Event.CLOSE)\r\n    if (ev.defaultPrevented || this.isTransitioning) return\r\n\r\n    this.isTransitioning = true\r\n    if (this.isFullscreen()) Util.remove(Util.next(this.element, '.card-expanded-placeholder'))// remove the placeholder\r\n\r\n    const _closeComplete = () => {\r\n      this.isTransitioning = false\r\n      Util.remove(this.element)\r\n      EventHandler.trigger(this.element, Event.CLOSED)\r\n    }\r\n\r\n    if (Util.isReducedMotion()) _closeComplete()\r\n    else {\r\n      this.element.classList.add('fade')\r\n\r\n      this.element.addEventListener('transitionend', (e) => {\r\n        if (e.target !== this.element) return// because transitionend might fire for children elements (like animated toolbar buttons)\r\n        _closeComplete()\r\n      })\r\n    }\r\n  }\r\n\r\n  toggle (type) {\r\n    if (!this._config.toggle) return\r\n\r\n    const body = this.element.querySelector('.card-body')\r\n    if (body === null) return\r\n\r\n    const action = (type && typeof type === 'string' && type.match(/show|hide/)[0]) || (body.offsetParent !== null ? 'hide' : 'show')\r\n\r\n    const eventName = action === 'hide' ? 'hide' : 'show'\r\n    const ev = EventHandler.trigger(this.element, eventName + EVENT_KEY)\r\n    if (ev.defaultPrevented || this.isTransitioning) return\r\n\r\n    this.isTransitioning = true\r\n\r\n    this._toggleIcon(type && typeof type === 'object' && type instanceof window.HTMLElement ? type : null, action)\r\n\r\n    ///\r\n\r\n    const eventCompleteName = action === 'hide' ? 'hidden' : 'shown'\r\n\r\n    if (this._jQueryBS) {\r\n      if (action === 'hide') body.classList.add('show')// .show class required for bs collapse plugin\r\n\r\n      window.jQuery(body).collapse(action).one(eventCompleteName + '.bs.collapse', () => {\r\n        this.isTransitioning = false\r\n        EventHandler.trigger(this.element, eventCompleteName + EVENT_KEY)\r\n      })\r\n    } else {\r\n      if (action === 'hide') body.classList.remove('show')\r\n      else body.classList.add('show')\r\n      this.isTransitioning = false\r\n      EventHandler.trigger(this.element, eventCompleteName + EVENT_KEY)\r\n    }\r\n  }\r\n\r\n  hide () {\r\n    this.toggle('hide')\r\n  }\r\n\r\n  show () {\r\n    this.toggle('show')\r\n  }\r\n\r\n  toggleFast (type) {\r\n    if (!this._config.toggle) return\r\n\r\n    const body = this.element.querySelector('.card-body')\r\n    if (body === null) return\r\n\r\n    const action = (type && typeof type === 'string' && type.match(/show|hide/)[0]) || (body.offsetParent !== null ? 'hide' : 'show')\r\n\r\n    const eventName = action === 'hide' ? 'hide' : 'show'\r\n    const ev = EventHandler.trigger(this.element, eventName + EVENT_KEY)\r\n    if (ev.defaultPrevented) return\r\n\r\n    body.classList.add('collapse')\r\n    if (action === 'hide') body.classList.remove('show')\r\n    else body.classList.add('show')\r\n\r\n    this._toggleIcon(type && typeof type === 'object' && type instanceof window.HTMLElement ? type : null, action)\r\n\r\n    const eventCompleteName = action === 'hide' ? 'hidden' : 'shown'\r\n    EventHandler.trigger(this.element, eventCompleteName + EVENT_KEY)\r\n  }\r\n\r\n  hideFast () {\r\n    this.toggleFast('hide')\r\n  }\r\n\r\n  showFast () {\r\n    this.toggleFast('show')\r\n  }\r\n\r\n  _toggleIcon (button, action) {\r\n    if (!button) {\r\n      button = this.element.querySelector('a[data-action=toggle]')\r\n    }\r\n\r\n    //\r\n    if (button) {\r\n      if (action === 'show') {\r\n        button.classList.remove('collapsed')\r\n      } else {\r\n        button.classList.add('collapsed')\r\n      }\r\n    }\r\n  }\r\n\r\n  // fullscreen\r\n  expand (expand, animate) {\r\n    const button = this.element.querySelector('* > .card-header [data-action=expand]')\r\n\r\n    const _fullscreen = this.isFullscreen()\r\n\r\n    const $expand = expand === true || !_fullscreen\r\n    animate = !((animate === false || Util.isReducedMotion()))// default is true\r\n\r\n    const params = ['left', 'top', 'width', 'height']\r\n\r\n    if ($expand) {\r\n      if (_fullscreen) return false// return if already fullscreen\r\n\r\n      const ev = EventHandler.trigger(this.element, Event.EXPAND)\r\n      if (ev.defaultPrevented || this.isTransitioning) return false\r\n\r\n      if (button) button.classList.add('active')\r\n\r\n      if (animate) {\r\n        this.isTransitioning = true\r\n\r\n        const rect = this.element.getBoundingClientRect()\r\n        params.forEach((param) => { this.element.style[param] = parseInt(rect[param]) + 'px' })\r\n\r\n        this.element.classList.add('card-expanding')\r\n\r\n        const transitionFn = (e) => {\r\n          if (e.target !== this.element) return// because transitionend might fire for children elements (like animated icons of toolbar)\r\n\r\n          this.element.removeEventListener('transitionend', transitionFn)\r\n          this.element.classList.remove('card-expanding')\r\n\r\n          this.isTransitioning = false\r\n          EventHandler.trigger(this.element, Event.EXPANDED)\r\n        }\r\n        this.element.addEventListener('transitionend', transitionFn)\r\n\r\n        Util.after(this.element, `<div class='card-expanded-placeholder' style='width: ${parseInt(rect.width)}px; height: ${parseInt(rect.height)}px;'></div>`)\r\n\r\n        Util.reflow(this.element)// to force browser apply css/dom changes\r\n        params.forEach((param) => { this.element.style[param] = '' })\r\n      }\r\n\r\n      this.element.classList.add('card-expand')\r\n      if (!animate) {\r\n        EventHandler.trigger(this.element, Event.EXPANDED)\r\n      }\r\n    } else { // restore\r\n      if (!_fullscreen) return false// return if already not fullscreen\r\n\r\n      const ev = EventHandler.trigger(this.element, Event.RESTORE)\r\n      if (ev.defaultPrevented || this.isTransitioning) return false\r\n\r\n      if (button) button.classList.remove('active')\r\n\r\n      animate = animate && this.element.nextElementSibling !== null && this.element.nextElementSibling.classList.contains('card-expanded-placeholder')\r\n      if (animate) {\r\n        this.isTransitioning = true\r\n\r\n        const rect = this.element.nextElementSibling.getBoundingClientRect()\r\n\r\n        this.element.classList.add('card-expanding')\r\n        params.forEach((param) => { this.element.style[param] = parseInt(rect[param]) + 'px' })\r\n\r\n        const transitionFn = (e) => {\r\n          if (e.target !== this.element) return// because transitionend might fire for children elements (like animated icons of toolbar)\r\n\r\n          this.element.removeEventListener('transitionend', transitionFn)\r\n          this.element.classList.remove('card-expanding')\r\n          params.forEach((param) => { this.element.style[param] = '' })\r\n\r\n          Util.remove(this.element.nextElementSibling)\r\n\r\n          this.isTransitioning = false\r\n          EventHandler.trigger(this.element, Event.RESTORED)\r\n        }\r\n        this.element.addEventListener('transitionend', transitionFn)\r\n      }\r\n\r\n      this.element.classList.remove('card-expand')\r\n      if (!animate) {\r\n        EventHandler.trigger(this.element, Event.RESTORED)\r\n      }\r\n    }\r\n\r\n    return true\r\n  }// function expand\r\n\r\n  expandFast () {\r\n    return this.expand(true, false)\r\n  }\r\n\r\n  restore () {\r\n    return this.expand(false)\r\n  }\r\n\r\n  restoreFast () {\r\n    return this.expand(false, false)\r\n  }\r\n\r\n  isFullscreen () {\r\n    return this.element.classList.contains('card-expand')\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof window.bootstrap !== 'undefined') {\r\n      window.bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element, config = null) {\r\n    if (!element) throw new Error('element for Card is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new Card(element, config)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config, value) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      const _config = {\r\n        // ...Default,\r\n        ...$this.data(),\r\n        ...typeof config && typeof config === 'object' ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = Card.getInstance(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config](value)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n\r\n  EventHandler.on(document, Event.CLICK_DATA_API, Selector.DATA_ACTION, function (event) {\r\n    const actionBtn = event.delegateTarget\r\n    if (actionBtn.tagName === 'A') {\r\n      event.preventDefault()\r\n    }\r\n\r\n    const card = Util.closest(actionBtn, '.card')\r\n    if (card === null) return\r\n\r\n    const action = actionBtn.getAttribute('data-action')\r\n    const ev = EventHandler.trigger(card, action + EVENT_KEY)\r\n    if (ev.defaultPrevented) return\r\n\r\n    try {\r\n      $(card)[NAME](action, actionBtn)\r\n    } catch (e) {}\r\n  })\r\n\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Card._jQueryInterface\r\n  $.fn[NAME].Constructor = Card\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Card._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Card\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): fileinput.js\r\n * Custom styling for default browser file input\r\n*/\r\n\r\nimport Util from './util'\r\nimport EventHandler from './event-handler'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nconst NAME = 'aceFileInput'\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.file'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  CHANGED: `changed${EVENT_KEY}`,\r\n  INVALID: `invalid${EVENT_KEY}`,\r\n  CLEAR: `clear${EVENT_KEY}`,\r\n  PREVIEW_FAILED: `preview_failed${EVENT_KEY}`\r\n}\r\n\r\nconst Default = {\r\n  style: false,\r\n  persistent: false,\r\n\r\n  container: 'border-1 brc-grey-l2 brc-h-warning-m1',\r\n\r\n  btnChooseClass: 'bgc-default text-white px-2 pt-2 text-90 my-1px mr-1px',\r\n  btnChangeClass: 'bgc-blue text-white px-2 pt-2 text-90 my-1px mr-1px',\r\n\r\n  btnChooseText: 'Choose',\r\n  btnChangeText: 'Change',\r\n\r\n  placeholderClass: 'text-grey-m2 px-1',\r\n  placeholderText: 'No file chosen',\r\n  placeholderIcon: '<i class=\"fa fa-upload bgc-grey-m1 text-white w-4 py-2 text-center\"></i>',\r\n\r\n  iconClass: 'mx-2px',\r\n\r\n  reset: '',\r\n  resetText: '',\r\n  resetIcon: '<i class=\"fa fa-times\"></i>',\r\n\r\n  droppable: false,\r\n  thumbnail: false, // large, fit, small\r\n  previewImage: true,\r\n\r\n  allowExt: null,\r\n  denyExt: null,\r\n  allowMime: null,\r\n  denyMime: null,\r\n  maxSize: null,\r\n\r\n  previewSize: false,\r\n  previewWidth: false,\r\n  previewHeight: false,\r\n\r\n  // callbacks\r\n  beforeChange: null,\r\n\r\n  fileIcons: {\r\n    file: '<i class=\"fa fa-file bgc-grey-m1 text-white w-4 py-2 text-center\"></i>',\r\n    image: '<i class=\"far fa-image bgc-purple-m1 text-white w-4 py-2 text-center\"></i>',\r\n    video: '<i class=\"fas fa-video bgc-success-m1 text-white w-4 py-2 text-center\"></i>',\r\n    audio: '<i class=\"fas fa-music bgc-pink-m1 text-white w-4 py-2 text-center\"></i>',\r\n    document: '<i class=\"far fa-file-alt bgc-default-d1 text-white w-4 py-2 text-center\"></i>',\r\n    archive: '<i class=\"far fa-file-archive bgc-warning text-white w-4 py-2 text-center\"></i>',\r\n    code: '<i class=\"fas fa-code file-code bgc-secondary text-white w-4 py-2 text-center\"></i>'\r\n  }\r\n}\r\n\r\nconst DefaultType = {\r\n  persistent: 'boolean',\r\n\r\n  style: '(boolean|string)',\r\n\r\n  btn: '(string|undefined)',\r\n  container: '(string|undefined)',\r\n  icon: '(string|undefined)',\r\n\r\n  placeholderText: '(string|undefined)',\r\n  placeholderIcon: '(string|undefined)',\r\n  btnChooseText: '(string|undefined)',\r\n  btnChangeText: '(string|undefined)',\r\n\r\n  reset: '(string|undefined)',\r\n  resetText: '(string|undefined)',\r\n  resetIcon: '(string|undefined)',\r\n\r\n  droppable: 'boolean',\r\n  thumbnail: '(boolean|string)',\r\n  previewImage: 'boolean',\r\n\r\n  allowExt: '(string|null)',\r\n  denyExt: '(string|null)',\r\n  allowMime: '(string|null)',\r\n  denyMime: '(string|null)',\r\n  maxSize: '(number|null)',\r\n\r\n  previewSize: '(boolean|number)',\r\n  previewWidth: '(boolean|number)',\r\n  previewHeight: '(boolean|number)',\r\n\r\n  fileIcons: '(object|null)',\r\n\r\n  // callbacks\r\n  beforeChange: '(function|null)'\r\n}\r\n\r\nconst PreviewError = {\r\n  FILE_LOAD_FAILED: 1,\r\n  IMAGE_LOAD_FAILED: 2,\r\n  THUMBNAIL_FAILED: 3\r\n}\r\n\r\nclass ImagePreviewError extends Error {\r\n  constructor (message, code) {\r\n    super(message)\r\n    this.code = code\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass FileInput {\r\n  constructor (element, config) {\r\n    this.settings = this._getConfig(config)\r\n\r\n    this.settings.fileIcons = {\r\n      ...Default.fileIcons,\r\n      ...this.settings.fileIcons || {}\r\n    }\r\n\r\n    this.fileList = []\r\n    this.selectMethod = ''\r\n\r\n    this._hasMultiple = 'multiple' in document.createElement('INPUT')\r\n    this._hasFileList = 'FileList' in window// file list enabled in modern browsers\r\n    this._hasFileReader = 'FileReader' in window\r\n    this._hasFile = 'File' in window\r\n\r\n    this.element = element\r\n    this.disabled = false\r\n    this.canReset = true\r\n\r\n    this._hasAcceptAttr = this.element.getAttribute('accept') !== null\r\n\r\n    // if new files selected (via file dialog), handle them\r\n    EventHandler.off(this.element, 'change.aceFileInput')\r\n    EventHandler.on(this.element, 'change.aceFileInput', () => {\r\n      if (this.disabled) return\r\n      return this._handleOnChange()\r\n    })\r\n\r\n    // if a parent form is 'reset', reset UI as well\r\n    const parentForm = Util.closest(this.element, 'form')\r\n    if (parentForm) {\r\n      EventHandler.off(parentForm, 'reset.aceFileInput')\r\n      EventHandler.on(parentForm, 'reset.aceFileInput', () => {\r\n        this.resetInputData()\r\n        this.resetInputUI()\r\n      })\r\n    }\r\n\r\n    const parentLabel = Util.closest(this.element, 'label')\r\n    let tagName = 'label'\r\n    if (parentLabel) {\r\n      parentLabel.classList.add('d-block')\r\n      tagName = 'span'// if not inside a \"LABEL\" tag, use \"LABEL\" tag, otherwise use \"SPAN\"\r\n    }\r\n\r\n    this._wrap = Util.wrap(this.element, `<${tagName} class=\"ace-file-input\" />`)\r\n\r\n    this._applySettings()\r\n  }\r\n\r\n  // Getters\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...config\r\n    }\r\n\r\n    if (typeof window.bootstrap !== 'undefined') {\r\n      window.bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  _applySettings () {\r\n    this._jQueryBS = typeof window.jQuery !== 'undefined' && typeof window.bootstrap !== 'undefined'\r\n\r\n    this._isMulti = this.element.getAttribute('multiple') && this._hasMultiple\r\n    this._isDropStyle = this.settings.style === 'drop'\r\n\r\n    if (this._isDropStyle) {\r\n      if (!this.settings.thumbnail) this.settings.thumbnail = 'small'\r\n      this._wrap.classList.add('ace-file-multiple')\r\n    } else {\r\n      this._wrap.classList.remove('ace-file-multiple')\r\n    }\r\n\r\n    this._wrap.querySelectorAll('*:not([type=file])').forEach((el) => Util.remove(el))// remove all except our input, good for when changing settings\r\n\r\n    const placeholder = `<div class=\"ace-file-placeholder h-100\">\r\n<span class=\"ace-file-icon align-self-center ${this.settings.iconClass || ''}\">\r\n  ${this.settings.placeholderIcon || ''}\r\n</span>\r\n<span class=\"ace-file-name ${this.settings.placeholderClass || ''}\">\r\n  ${this.settings.placeholderText}\r\n</span>` + (!this._isDropStyle ? `<span class=\"ace-file-btn ml-auto ${this.settings.btnChooseClass || ''}\">${this.settings.btnChooseText}</span>` : '') + '</div>'\r\n\r\n    Util.after(this.element, `<div class=\"ace-file-container d-flex flex-column ${this.settings.container || ''}\">${placeholder}</div>`)\r\n\r\n    this.container = this.element.nextElementSibling\r\n\r\n    if (this.settings.reset !== false) {\r\n      const remove = this.settings.reset.length > 0 ? this.settings.reset : (!this._isDropStyle ? 'position-rc text-danger mr-n25 w-3 radius-2 border-1 brc-h-danger-m4 text-center' : 'position-tr bgc-white text-danger mt-n25 mr-n25 w-4 h-4 text-center pt-2px radius-round border-2 brc-grey-m4 brc-h-danger-m3')\r\n\r\n      const btn = Util.append(this._wrap, `<a title=\"${this.settings.resetText || ''}\" class=\"remove ${remove}\" href=\"#\">${this.settings.resetIcon}</a>`)\r\n\r\n      if (this.settings.resetText && this._jQueryBS && window.jQuery.fn.tooltip) window.jQuery(btn).tooltip({ container: 'body' })\r\n\r\n      btn.addEventListener('click', (ev) => {\r\n        ev.preventDefault()\r\n        if (!this.canReset) return\r\n\r\n        const event = EventHandler.trigger(this.element, Event.CLEAR)\r\n        if (event.defaultPrevented) return\r\n\r\n        this.resetInput()\r\n      })\r\n    }\r\n\r\n    if (this.settings.droppable && this._hasFileList) {\r\n      this._enableFileDrop()\r\n    }\r\n\r\n    // set 'accept' attribute if not set\r\n    if (!this._hasAcceptAttr) {\r\n      this._setAcceptAttr(this.settings.allowExt, this.settings.allowMime)\r\n    }\r\n  }\r\n\r\n  showFileList ($files, innerCall) {\r\n    const files = $files || this.fileList\r\n    if (!files || !files.length) return\r\n\r\n    /// //////////////////////////////////\r\n    if (!this.settings.persistent) {\r\n      this.resetInputUI()\r\n    }\r\n\r\n    this.container.classList.add('selected')\r\n    this.container.querySelectorAll('.ace-file-placeholder').forEach((el) => el.classList.add('d-none'))\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      let filename = ''\r\n      let format = false\r\n\r\n      if (typeof files[i] === 'string') filename = files[i]\r\n\r\n      else if (this._hasFile && files[i] instanceof window.File) filename = files[i].name.trim()\r\n\r\n      else if (files[i] instanceof Object && Object.prototype.hasOwnProperty.call(files[i], 'name')) {\r\n        // format & name specified by user (pre-displaying name, etc)\r\n        filename = files[i].name\r\n        if (Object.prototype.hasOwnProperty.call(files[i], 'type')) format = files[i].type\r\n        if (!Object.prototype.hasOwnProperty.call(files[i], 'path')) files[i].path = files[i].name\r\n      } else continue\r\n\r\n      let index = filename.lastIndexOf('\\\\') + 1\r\n      if (index === 0) index = filename.lastIndexOf('/') + 1\r\n      filename = filename.substr(index)\r\n\r\n      if (!format) {\r\n        if ((/\\.(jpe?g|png|gif|svg|bmp|tiff?|webp)$/i).test(filename)) {\r\n          format = 'image'\r\n        } else if ((/\\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i).test(filename)) {\r\n          format = 'video'\r\n        } else if ((/\\.(mp3|ogg|wav|wma|amr|aac)$/i).test(filename)) {\r\n          format = 'audio'\r\n        } else if ((/\\.(pdf|docx?|rtf|txt)$/i).test(filename)) {\r\n          format = 'document'\r\n        } else if ((/\\.(zip|rar|tar)$/i).test(filename)) {\r\n          format = 'archive'\r\n        } else if ((/\\.(html?|js|s?css|less|php|py|aspx?|rb|c|cpp|java|cs)$/i).test(filename)) {\r\n          format = 'code'\r\n        } else format = 'file'\r\n      }\r\n\r\n      const fileIcon = this.settings.fileIcons[format]\r\n\r\n      let className = 'ace-file-item d-flex h-100'\r\n      if (this.settings.thumbnail) className += ` ${this.settings.thumbnail !== 'small' ? 'flex-column my-2px py-2' : 'mx-1 py-1'} align-items-center`\r\n\r\n      const label = Util.append(this.container, `<div class=\"${className}\">\r\n<span class=\"ace-file-icon align-self-center ${this.settings.iconClass || ''}\">${fileIcon}</span>\r\n<span class=\"ace-file-name ${this.settings.thumbnail && this.settings.thumbnail !== 'small' ? 'px-2' : 'px-1'}\">${filename}</span>` +\r\n      (!this._isDropStyle ? `<span class=\"ace-file-btn ml-auto ${this.settings.btnChangeClass || ''}\">${this.settings.btnChangeText}</span>` : '') +\r\n      '</div>')\r\n\r\n      const type = (innerCall === true && this._hasFile && files[i] instanceof window.File) ? files[i].type.trim() : ''\r\n      const canPreview = this.settings.previewImage !== false && this._hasFileReader && this.settings.thumbnail &&\r\n\t\t\t\t\t((type.length > 0 && type.match('image')) || (type.length === 0 && format === 'image'))// the second one is for older Android's default browser which gives an empty text for file.type\r\n      if (canPreview) {\r\n        try {\r\n          this._previewImage(files[i], label)\r\n            .catch((result) => {\r\n              EventHandler.trigger(this.element, Event.PREVIEW_FAILED, { $_previewError: { filename: filename, code: result.code } })\r\n            })\r\n        } catch (e) {\r\n          // for IE that doesn't support Promises\r\n          EventHandler.trigger(this.element, Event.PREVIEW_FAILED, { $_previewError: { filename: filename, code: PreviewError.FILE_LOAD_FAILED } })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  resetInput () {\r\n    this.resetInputUI()\r\n    this.resetInputField()\r\n    this.resetInputData()\r\n  }\r\n\r\n  resetInputUI () {\r\n    this.container.querySelectorAll('div:not(.ace-file-placeholder)').forEach((el) => Util.remove(el))\r\n    this.container.querySelectorAll('.ace-file-placeholder').forEach((el) => el.classList.remove('d-none'))\r\n\r\n    this.container.classList.remove('selected') // hides 'close' button\r\n    this.stopLoading()\r\n  }\r\n\r\n  resetInputField () {\r\n    this.element.value = ''\r\n    this.element.type = ''\r\n    this.element.type = 'file'\r\n  }\r\n\r\n  resetInputData () {\r\n    this.fileList = []\r\n    this.selectMethod = ''\r\n\r\n    if (this._jQueryBS && window.jQuery(this.element).data('ace_input_files')) {\r\n      window.jQuery(this.element).removeData('ace_input_files')\r\n      window.jQuery(this.element).removeData('ace_input_method')\r\n    }\r\n  }\r\n\r\n  enableReset () {\r\n    this.canReset = true\r\n  }\r\n\r\n  disableReset () {\r\n    this.canReset = false\r\n  }\r\n\r\n  disable () {\r\n    this.disabled = true\r\n    this.element.setAttribute('disabled', 'disabled')\r\n    this.element.classList.add('disabled')\r\n  }\r\n\r\n  enable () {\r\n    this.disabled = false\r\n    this.element.removeAttribute('disabled')\r\n    this.element.classList.remove('disabled')\r\n  }\r\n\r\n  files () {\r\n    return this.fileList.length > 0 ? this.fileList : null\r\n  }\r\n\r\n  method () {\r\n    return this.selectMethod\r\n  }\r\n\r\n  updateSettings (newSettings) {\r\n    this.settings = {\r\n      ...this.settings,\r\n      ...newSettings || {}\r\n    }\r\n\r\n    this.settings.fileIcons = {\r\n      ...this.settings.fileIcons,\r\n      ...newSettings.fileIcons || {}\r\n    }\r\n\r\n    this._applySettings()\r\n  }\r\n\r\n  startLoading (loadingHtml = '<i class=\"overlay-content fa fa-spin fa-spinner text-white fa-2x\"></i>') {\r\n    let loader = this._wrap.querySelector('.ace-file-overlay')\r\n    if (loader === null) {\r\n      loader = Util.append(this._wrap, '<div class=\"ace-file-overlay text-center\"></div>')\r\n\r\n      EventHandler.on(loader, 'click', (ev) => {\r\n        ev.stopImmediatePropagation()\r\n        ev.preventDefault()\r\n      })\r\n\r\n      this.element.setAttribute('readonly', 'true')// for IE\r\n    }\r\n    loader.innerHTML = loadingHtml\r\n  }\r\n\r\n  stopLoading () {\r\n    const loader = this._wrap.querySelector('.ace-file-overlay')\r\n    if (loader === null) {\r\n      this.element.removeAttribute('readonly')\r\n      return\r\n    }\r\n    EventHandler.off(loader, 'click')\r\n    Util.remove(loader)\r\n  }\r\n\r\n  _enableFileDrop () {\r\n    const dropbox = this.element.parentNode\r\n\r\n    EventHandler.off(dropbox, 'dragenter')\r\n    EventHandler.on(dropbox, 'dragenter', (e) => {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n    })\r\n\r\n    EventHandler.off(dropbox, 'dragover')\r\n    EventHandler.on(dropbox, 'dragover', (e) => {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n    })\r\n\r\n    EventHandler.off(dropbox, 'drop')\r\n    EventHandler.on(dropbox, 'drop', (e) => {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n\r\n      if (this.disabled) return\r\n\r\n      const dt = e.dataTransfer\r\n      let tmpFileList = dt.files\r\n      if (!this._isMulti && tmpFileList.length > 1) { // single file upload, but dragged multiple files\r\n        const tmpfiles = []\r\n        tmpfiles.push(tmpFileList[0])\r\n        tmpFileList = tmpfiles// keep only first file\r\n      }\r\n\r\n      tmpFileList = this._processFiles(tmpFileList, true)// true means files have been dropped\r\n      if (tmpFileList === false) return false\r\n\r\n      this.selectMethod = 'drop'\r\n\r\n      // const fileArray = [...tmpFileList]\r\n      const fileArray = []\r\n      for (let f = 0; f < tmpFileList.length; f++) fileArray.push(tmpFileList[f])\r\n\r\n      if (this.settings.persistent) {\r\n        this.fileList = this.fileList.concat(fileArray)\r\n      } else {\r\n        this.fileList = fileArray\r\n      }\r\n\r\n      if (this._jQueryBS) {\r\n        window.jQuery(this.element).data('ace_input_files', this.fileList)\r\n        window.jQuery(this.element).data('ace_input_method', this.selectMethod)\r\n      }\r\n\r\n      this.showFileList(fileArray, true)\r\n\r\n      EventHandler.trigger(this.element, Event.CHANGED, { $_selectedFiles: { list: this.fileList, method: this.selectMethod } })\r\n\r\n      return true\r\n    })\r\n  }\r\n\r\n  /// ///////////\r\n\r\n  _handleOnChange () {\r\n    let tmpFileList = this.element.files || [this.element.value]// make it an array\r\n\r\n    tmpFileList = this._processFiles(tmpFileList, false)// false means files have been selected, not dropped\r\n    if (tmpFileList === false) return false\r\n\r\n    // const fileArray = [...tmpFileList];\r\n    const fileArray = []\r\n    for (let f = 0; f < tmpFileList.length; f++) fileArray.push(tmpFileList[f])\r\n\r\n    this.selectMethod = 'select'\r\n\r\n    if (this.settings.persistent) {\r\n      this.fileList = this.fileList.concat(fileArray)\r\n    } else {\r\n      this.fileList = fileArray\r\n    }\r\n\r\n    if (this._jQueryBS) {\r\n      window.jQuery(this.element).data('ace_input_files', this.fileList)\r\n      window.jQuery(this.element).data('ace_input_method', this.selectMethod)\r\n    }\r\n\r\n    this.showFileList(fileArray, true)\r\n\r\n    EventHandler.trigger(this.element, Event.CHANGED, { $_selectedFiles: { list: this.fileList, method: this.selectMethod } })\r\n\r\n    return true\r\n  }\r\n\r\n  _previewImage (file, label) {\r\n    return new Promise((resolve, reject) => {\r\n      const icon = label.querySelector('.ace-file-icon')// it should be out of onload, otherwise all onloads may target the same $icon because of delays\r\n      if (icon) Util.empty(icon)\r\n\r\n      const getImage = function (src, $file) {\r\n        const img = Util.prepend(icon, \"<img style='display: none;' />\")\r\n\r\n        // no error/load event is triggered in some browsers such as firefox mobile\r\n        // so we wait a while and then reject the promise\r\n        let waitTimer = setTimeout(() => {\r\n          waitTimer = null\r\n          removeEvents()\r\n          imgFailed(img)\r\n        }, 6000)\r\n\r\n        const onLoad = () => {\r\n          removeEvents()\r\n          imgLoaded(img, $file)\r\n        }\r\n\r\n        const onError = () => {\r\n          removeEvents()\r\n          imgFailed(img)\r\n        }\r\n\r\n        const removeEvents = () => {\r\n          if (waitTimer) {\r\n            clearTimeout(waitTimer)\r\n            waitTimer = null\r\n          }\r\n\r\n          img.removeEventListener('load', onLoad) // call only once\r\n          img.removeEventListener('error', onError) // remove the other one too\r\n        }\r\n\r\n        img.addEventListener('load', onLoad)\r\n        img.addEventListener('error', onError)\r\n\r\n        img.src = src\r\n      }\r\n\r\n      const imgLoaded = (img, $file) => { // if image loaded successfully\r\n        let size = this.settings.previewSize\r\n\r\n        if (!size) {\r\n          if (this.settings.previewWidth || this.settings.previewHeight) {\r\n            size = { previewWidth: this.settings.previewWidth, previewHeight: this.settings.previewHeight }\r\n          } else {\r\n            size = 50\r\n            if (this.settings.thumbnail === 'large') size = 150\r\n          }\r\n        }\r\n        if (this.settings.thumbnail === 'fit') size = icon.parentNode.offsetWidth\r\n        else if (typeof size === 'number') size = parseInt(Math.min(size, icon.parentNode.offsetWidth))\r\n\r\n        const svg = /svg/.test($file.type)\r\n        const thumb = !svg ? this._getThumbnail(img, size, $file.type) : false//, file.type;\r\n        if (thumb === null) {\r\n          // if making thumbnail fails\r\n          Util.remove(img)\r\n\r\n          reject(new ImagePreviewError('Thumbnail Failed', PreviewError.THUMBNAIL_FAILED))\r\n          return\r\n        }\r\n\r\n        const showPreview = true\r\n        if (showPreview) {\r\n          if (svg) {\r\n            if (this.settings.thumbnail === 'small') {\r\n              img.style.width = size + 'px'\r\n            } else {\r\n              if (img.width > img.height) {\r\n                img.style.width = size + 'px'\r\n              } else {\r\n                img.style.height = size + 'px'\r\n              }\r\n            }\r\n          } else {\r\n            let w = thumb.previewWidth\r\n            let h = thumb.previewHeight\r\n\r\n            if (this.settings.thumbnail === 'small') {\r\n              w = h = parseInt(Math.max(w, h))\r\n            } else {\r\n              icon.classList.add('thumbnail-large')\r\n            }\r\n\r\n            img.style.background = `url(${thumb.src}) center no-repeat`\r\n            img.style.width = w + 'px'\r\n            img.style.height = h + 'px'\r\n\r\n            img.setAttribute('data-src', thumb.src)\r\n            img.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=='\r\n          }\r\n\r\n          img.style.display = ''\r\n        }\r\n\r\n        /// ////////////////\r\n        resolve()\r\n      }\r\n      const imgFailed = function (img) {\r\n        // for example when a file has image extenstion, but format is something else\r\n        Util.remove(img)\r\n        reject(new ImagePreviewError('Image Load Failed', PreviewError.IMAGE_LOAD_FAILED))\r\n      }\r\n\r\n      if (this._hasFile && file instanceof window.File) {\r\n        const reader = new window.FileReader()\r\n        reader.onload = function (e) {\r\n          getImage(e.target.result, file)\r\n        }\r\n        reader.onerror = function (e) {\r\n          reject(new ImagePreviewError('File Load Failed', PreviewError.FILE_LOAD_FAILED))\r\n        }\r\n        reader.readAsDataURL(file)\r\n      } else {\r\n        if (file instanceof Object && Object.prototype.hasOwnProperty.call(file, 'path')) {\r\n          getImage(file.path, file)// file is a file name (path) --- this is used to pre-show user-selected image\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  /// //////////\r\n\r\n  _getThumbnail (img, size, type) {\r\n    let imgWidth = img.width\r\n    let imgHeight = img.height\r\n\r\n    //* *IE10** is not giving correct width using img.width\r\n    imgWidth = imgWidth > 0 ? imgWidth : img.offsetWidth\r\n    imgHeight = imgHeight > 0 ? imgHeight : img.offsetHeight\r\n\r\n    let previewSize = false\r\n    let previewHeight = false\r\n    let previewWidth = false\r\n\r\n    if (typeof size === 'number') previewSize = size\r\n    else if (size instanceof Object) {\r\n      if (size.previewWidth && !size.previewHeight) previewWidth = size.previewWidth\r\n      else if (size.previewHeight && !size.previewWidth) previewHeight = size.previewHeight\r\n      else if (size.previewWidth && size.previewHeight) {\r\n        previewWidth = size.previewWidth\r\n        previewHeight = size.previewHeight\r\n      }\r\n    }\r\n\r\n    if (previewSize) {\r\n      if (imgWidth > imgHeight) {\r\n        previewWidth = previewSize\r\n        previewHeight = parseInt(imgHeight / imgWidth * previewWidth)\r\n      } else {\r\n        previewHeight = previewSize\r\n        previewWidth = parseInt(imgWidth / imgHeight * previewHeight)\r\n      }\r\n    } else {\r\n      if (!previewHeight && previewWidth) {\r\n        previewHeight = parseInt(imgHeight / imgWidth * previewWidth)\r\n      } else if (previewHeight && !previewWidth) {\r\n        previewWidth = parseInt(imgWidth / imgHeight * previewHeight)\r\n      }\r\n    }\r\n\r\n    let dataURL\r\n    try {\r\n      const canvas = document.createElement('canvas')\r\n      canvas.width = previewWidth\r\n      canvas.height = previewHeight\r\n\r\n      const context = canvas.getContext('2d')\r\n      context.imageSmoothingQuality = 'medium'\r\n      context.drawImage(img, 0, 0, imgWidth, imgHeight, 0, 0, previewWidth, previewHeight)\r\n      dataURL = canvas.toDataURL(type, 0.8)\r\n      // dataURL = canvas.toDataURL();\r\n    } catch (e) {\r\n      dataURL = null\r\n    }\r\n    if (!dataURL) return null\r\n\r\n    // there was only one image that failed in firefox completely randomly! so let's double check things\r\n    if (!(/^data:image\\/(png|jpe?g|gif|svg);base64,[0-9A-Za-z+/=]+$/.test(dataURL))) dataURL = null\r\n    if (!dataURL) return null\r\n\r\n    return { src: dataURL, previewWidth: previewWidth, previewHeight: previewHeight, width: imgWidth, height: imgHeight }\r\n  }\r\n\r\n  _processFiles (tmpFileList, dropped) {\r\n    let ret = this._checkFileList(tmpFileList, dropped)\r\n    if (ret === -1) {\r\n      this.resetInput()\r\n      return false\r\n    }\r\n    if (!ret || ret.length === 0) {\r\n      if (this.fileList.length === 0) this.resetInput()\r\n      // if nothing selected before, reset because of the newly unacceptable (ret=false||length=0) selection\r\n      // otherwise leave the previous selection intact?!!!\r\n      return false\r\n    }\r\n    if (ret instanceof Array || (this._hasFileList && ret instanceof window.FileList)) tmpFileList = ret\r\n\r\n    ret = true\r\n\r\n    if (this.settings.beforeChange) ret = this.settings.beforeChange.call(this.element, tmpFileList, dropped)\r\n    if (ret === -1) {\r\n      this.resetInput()\r\n      return false\r\n    }\r\n    if (!ret || ret.length === 0) {\r\n      if (this.fileList.length === 0) this.resetInput()\r\n      return false\r\n    }\r\n\r\n    // inside beforeChange you can return a modified File Array as result\r\n    if (ret instanceof Array || (this._hasFileList && ret instanceof window.FileList)) tmpFileList = ret\r\n\r\n    return tmpFileList\r\n  }\r\n\r\n  /// ///////\r\n\r\n  _checkFileList (files, dropped) {\r\n    const allowExt = this._getExtRegex(this.settings.allowExt)\r\n\r\n    const denyExt = this._getExtRegex(this.settings.denyExt)\r\n\r\n    const allowMime = this._getMimeRegex(this.settings.allowMime)\r\n\r\n    const denyMime = this._getMimeRegex(this.settings.denyMime)\r\n\r\n    const maxSize = this.settings.maxSize || false\r\n\r\n    if (!(allowExt || denyExt || allowMime || denyMime || maxSize)) return true// no checking required\r\n\r\n    const safeFiles = []\r\n    const errorList = {}\r\n    // for (const file of files) {\r\n    for (let i = 0; i < files.length; i++) {\r\n      const file = files[i]\r\n      // file is either a string(file name) or a File object\r\n      const filename = !this._hasFile ? file : file.name\r\n      if (allowExt && !allowExt.test(filename)) {\r\n        // extension not matching whitelist, so drop it\r\n        if (!('ext' in errorList)) errorList.ext = []\r\n        errorList.ext.push(filename)\r\n\r\n        continue\r\n      } else if (denyExt && denyExt.test(filename)) {\r\n        // extension is matching blacklist, so drop it\r\n        if (!('ext' in errorList)) errorList.ext = []\r\n        errorList.ext.push(filename)\r\n\r\n        continue\r\n      }\r\n\r\n      let type\r\n      if (!this._hasFile) {\r\n        // in browsers that don't support FileReader API\r\n        safeFiles.push(file)\r\n        continue\r\n      } else if ((type = file.type.trim()).length > 0) {\r\n        // there is a mimetype for file so let's check against are rules\r\n        if (allowMime && !allowMime.test(type)) {\r\n          // mimeType is not matching whitelist, so drop it\r\n          if (!('mime' in errorList)) errorList.mime = []\r\n          errorList.mime.push(filename)\r\n          continue\r\n        } else if (denyMime && denyMime.test(type)) {\r\n          // mimeType is matching blacklist, so drop it\r\n          if (!('mime' in errorList)) errorList.mime = []\r\n          errorList.mime.push(filename)\r\n          continue\r\n        }\r\n      }\r\n\r\n      if (maxSize && file.size > maxSize) {\r\n        // file size is not acceptable\r\n        if (!('size' in errorList)) errorList.size = []\r\n        errorList.size.push(filename)\r\n        continue\r\n      }\r\n\r\n      safeFiles.push(file)\r\n    }\r\n\r\n    if (safeFiles.length === files.length) return files// return original file list if all are valid\r\n\r\n    /// //////\r\n    const errorCount = { ext: 0, mime: 0, size: 0 }\r\n    if ('ext' in errorList) errorCount.ext = errorList.ext.length\r\n    if ('mime' in errorList) errorCount.mime = errorList.mime.length\r\n    if ('size' in errorList) errorCount.size = errorList.size.length\r\n\r\n    const event = EventHandler.trigger(this.element, Event.INVALID,\r\n      {\r\n        $_fileErrors: {\r\n          fileCount: files.length,\r\n          invalidCount: files.length - safeFiles.length,\r\n          errorList: errorList,\r\n          errorCount: errorCount,\r\n          dropped: dropped\r\n        }\r\n      }\r\n    )\r\n    if (event.defaultPrevented) return -1// it will reset input\r\n    /// ///////\r\n\r\n    return safeFiles// return safeFiles\r\n  }\r\n\r\n  _setAcceptAttr (ext = '', mime = '') {\r\n    if (ext) {\r\n      if (Array.isArray(ext)) ext = ext.join(',.')\r\n      else ext = ext.replace(/\\|/g, ',.')\r\n      ext = '.' + ext\r\n    }\r\n\r\n    if (mime) {\r\n      if (Array.isArray(mime)) mime = mime.join(',')\r\n      // replace `/\\w+` with `/*` ... for example, `image/\\w+` becomes `image/*`\r\n      else mime = mime.replace(/\\|/g, ',').replace(/\\/\\\\w+/g, '/*')\r\n    }\r\n\r\n    let accept = (ext || '') + (ext && mime ? ',' : '') + (mime || '')\r\n    accept = accept.replace(/\\s/g, '')\r\n    if (accept) this.element.setAttribute('accept', accept)\r\n  }\r\n\r\n  _getExtRegex (ext) {\r\n    if (!ext) return null\r\n    if (Array.isArray(ext)) ext = ext.join('|')\r\n    if (ext.length === 0) return null\r\n    return new RegExp('\\\\.(?:' + ext + ')$', 'i')\r\n  }\r\n\r\n  _getMimeRegex (mime) {\r\n    if (!mime) return null\r\n    if (Array.isArray(mime)) mime = mime.join('|')\r\n    if (mime.length === 0) return null\r\n    // replace `/*` with `/\\w+` ... for example, `image/*` becomes `image/\\w+`\r\n    return new RegExp('^(?:' + mime.replace(/\\/\\*/g, '/\\\\w+').replace(/\\//g, '\\\\/') + ')$', 'i')\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element, config = null) {\r\n    if (!element) throw new Error('element for Fileinput is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new FileInput(element, config)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config, value) {\r\n    let retval\r\n    const reteach = this.each(function () {\r\n      if (!Util.matches(this, 'input[type=file]')) return\r\n\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = FileInput.getInstance(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        retval = data[config](value)\r\n      }\r\n    })\r\n\r\n    return (typeof retval !== 'undefined') ? retval : reteach\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = FileInput._jQueryInterface\r\n  $.fn[NAME].Constructor = FileInput\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return FileInput._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default FileInput\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): wysiwyg.js\r\n   Wrapper for Bootstrap wyswiwyg plugin\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceWysiwyg'\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.wysiwyg'\r\n\r\nconst DefaultType = {\r\n  wysiwyg: 'object',\r\n  colors: 'array',\r\n  // speech: 'boolean',\r\n  toolbar: 'array',\r\n  toolbarPlacement: '(function|null)',\r\n  toolbarStyle: '(string|number)'\r\n}\r\n\r\nconst Default = {\r\n  wysiwyg: {},\r\n  // speech: true,\r\n  toolbarPlacement: null,\r\n  toolbarStyle: '',\r\n\r\n  colors: ['#000000', '#424242', '#636363', '#9c9c94', '#cec6ce', '#efefef', '#f7f7f7', '#ffffff',\r\n    '#ff0000', '#ff9c00', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#9c00ff', '#ff00ff',\r\n    '#f7c6ce', '#ffe7ce', '#ffefc6', '#d6efd6', '#cedee7', '#cee7f7', '#d6d6e7', '#e7d6de',\r\n    '#e79c9c', '#ffc69c', '#ffe79c', '#b5d6a5', '#a5c6ce', '#9cc6ef', '#b5a5d6', '#d6a5bd',\r\n    '#e76363', '#f7ad6b', '#ffd663', '#94bd7b', '#73a5ad', '#6badde', '#8c7bc6', '#c67ba5',\r\n    '#ce0000', '#e79439', '#efc631', '#6ba54a', '#4a7b8c', '#3984c6', '#634aa5', '#a54a7b',\r\n    '#9c0000', '#b56308', '#bd9400', '#397b21', '#104a5a', '#085294', '#311873', '#731842',\r\n    '#630000', '#7b3900', '#846300', '#295218', '#083139', '#003163', '#21104a', '#4a1031'],\r\n\r\n  toolbar: ['font', null, 'fontSize', null, 'bold', 'italic', 'strikethrough', 'underline', null, 'insertunorderedlist', 'insertorderedlist',\r\n    'outdent', 'indent', null, 'justifyleft', 'justifycenter', 'justifyright', 'justifyfull', null, 'createLink', 'unlink', null,\r\n    'insertImage', null, 'foreColor', null, 'undo', 'redo', null, 'viewSource']\r\n}\r\n\r\nclass Wysiwyg {\r\n  constructor (element, config) {\r\n    this._element\t= element\r\n    this._config = this._getConfig(config)\r\n\r\n    this.initEditor()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  initEditor () {\r\n    const toolbarHtml = this._createToolbarHtml()\r\n    let toolbar\r\n    // if we have a function to decide where to put the toolbar, then call that\r\n    if (this._config.toolbarPlacement) toolbar = this._config.toolbarPlacement.call(this._element, toolbarHtml)\r\n    else toolbar = $(this._element).before(toolbarHtml).prev()// otherwise put it just before our DIV\r\n\r\n    if (this._config.toolbarStyle) toolbar.addClass('bsw-toolbar-style-' + this._config.toolbarStyle)\r\n\r\n    // enable tooltips\r\n    if ($.fn.tooltip) toolbar.find('a[title]').tooltip({ animation: false, container: 'body' })\r\n\r\n    toolbar.find('.dropdown-menu input[type=text]').on('click', function () { return false })\r\n      .on('change', function () { $(this).closest('.dropdown-menu').siblings('.dropdown-toggle').dropdown('toggle') })\r\n      .on('keydown', function (e) {\r\n        if (e.which === 27) {\r\n          this.value = ''\r\n          // $(this).change()\r\n        } else if (e.which === 13) {\r\n          e.preventDefault()\r\n          e.stopPropagation()\r\n          // $(this).change()\r\n        }\r\n      })\r\n\r\n    toolbar.find('input[type=file]').prev().on('click', function (e) {\r\n      // $(this).next().click()\r\n    })\r\n\r\n    const self = $(this._element)\r\n    // view source\r\n    let viewSource = false\r\n    toolbar.find('a[data-toggle=source]').on('click', function (e) {\r\n      e.preventDefault()\r\n\r\n      if (!viewSource) {\r\n        $('<textarea />')\r\n          .css({ width: self.outerWidth(), height: self.outerHeight() })\r\n          .val(self.html())\r\n          .insertAfter(self)\r\n        self.addClass('d-none')\r\n\r\n        $(this).addClass('active')\r\n      } else {\r\n        const textarea = self.next()\r\n        self.html(textarea.val()).removeClass('d-none')\r\n        textarea.remove()\r\n\r\n        $(this).removeClass('active')\r\n      }\r\n\r\n      viewSource = !viewSource\r\n    })\r\n\r\n    // initiate wysiwyg plugin\r\n    const $options = $.extend({}, { activeToolbarClass: 'active', toolbarSelector: toolbar }, this._config.wysiwyg || {})\r\n    $(this._element).wysiwyg($options)\r\n\r\n    this._handleImages()\r\n  }\r\n\r\n  _createToolbarHtml () {\r\n    const _buttonDefaults =\t{\r\n      font: {\r\n        values: ['Arial', 'Courier', 'Comic Sans MS', 'Helvetica', 'Open Sans', 'Tahoma', 'Verdana'],\r\n        icon: 'fa fa-font text-secondary',\r\n        title: 'Font'\r\n      },\r\n      fontSize: {\r\n        values: { 5: 'Huge', 3: 'Normal', 1: 'Small' },\r\n        icon: 'fa fa-text-height text-secondary',\r\n        title: 'Font Size'\r\n      },\r\n      bold: {\r\n        icon: 'fa fa-bold text-secondary',\r\n        title: 'Bold (Ctrl/Cmd+B)'\r\n      },\r\n      italic: {\r\n        icon: 'fa fa-italic text-secondary',\r\n        title: 'Italic (Ctrl/Cmd+I)'\r\n      },\r\n      strikethrough: {\r\n        icon: 'fa fa-strikethrough text-secondary',\r\n        title: 'Strikethrough'\r\n      },\r\n      underline: {\r\n        icon: 'fa fa-underline text-secondary',\r\n        title: 'Underline'\r\n      },\r\n      insertunorderedlist: {\r\n        icon: 'fa fa-list-ul text-secondary',\r\n        title: 'Bullet list'\r\n      },\r\n      insertorderedlist: {\r\n        icon: 'fa fa-list-ol text-secondary',\r\n        title: 'Number list'\r\n      },\r\n      outdent: {\r\n        icon: 'fa fa-outdent text-secondary',\r\n        title: 'Reduce indent (Shift+Tab)'\r\n      },\r\n      indent: {\r\n        icon: 'fa fa-indent text-secondary',\r\n        title: 'Indent (Tab)'\r\n      },\r\n      justifyleft: {\r\n        icon: 'fa fa-align-left text-secondary',\r\n        title: 'Align Left (Ctrl/Cmd+L)'\r\n      },\r\n      justifycenter: {\r\n        icon: 'fa fa-align-center text-secondary',\r\n        title: 'Center (Ctrl/Cmd+E)'\r\n      },\r\n      justifyright: {\r\n        icon: 'fa fa-align-right text-secondary',\r\n        title: 'Align Right (Ctrl/Cmd+R)'\r\n      },\r\n      justifyfull: {\r\n        icon: 'fa fa-align-justify text-secondary',\r\n        title: 'Justify (Ctrl/Cmd+J)'\r\n      },\r\n      createLink: {\r\n        icon: 'fa fa-link text-secondary',\r\n        title: 'Hyperlink',\r\n        button_text: 'Add',\r\n        placeholder: 'URL',\r\n        button_class: 'btn-light-primary'\r\n      },\r\n      unlink: {\r\n        icon: 'fa fa-unlink text-secondary',\r\n        title: 'Remove Hyperlink'\r\n      },\r\n      insertImage: {\r\n        icon: 'fa fa-image text-secondary',\r\n        title: 'Insert picture',\r\n        button_text: '<i class=\"far fa-file mr-1\"></i> Choose an Image &hellip;',\r\n        placeholder: 'Remote Image URL',\r\n        button_insert: 'Insert',\r\n        button_class: 'btn-light-success',\r\n        button_insert_class: 'btn-light-primary',\r\n        choose_file: true // show the choose file button?\r\n      },\r\n      foreColor: {\r\n        icon: 'fas fa-eye-dropper text-pink-m1',\r\n        values: this._config.colors,\r\n        title: 'Foreground Color'\r\n      },\r\n      backColor: {\r\n        icon: 'fas fa-fill-drip text-secondary',\r\n        values: this._config.colors,\r\n        title: 'Background Color'\r\n      },\r\n      removeFormat: {\r\n        icon: 'fa fa-eraser text-secondary',\r\n        title: 'Remove Format'\r\n      },\r\n      undo: {\r\n        icon: 'fa fa-undo text-secondary',\r\n        title: 'Undo (Ctrl/Cmd+Z)'\r\n      },\r\n      redo: {\r\n        icon: 'fa fa-redo text-secondary',\r\n        title: 'Redo (Ctrl/Cmd+Y)'\r\n      },\r\n      viewSource: {\r\n        icon: 'fa fa-code text-secondary',\r\n        title: 'View Source'\r\n      }\r\n    }\r\n\r\n    const toolbarButtons = this._config.toolbar\r\n    let toolbarHtml = ' <div class=\"bootstrap-wysiwyg-toolbar btn-toolbar text-center\"> <div class=\"btn-group mb-2px\"> '\r\n\r\n    for (const tb in toolbarButtons) {\r\n      if (Object.prototype.hasOwnProperty.call(toolbarButtons, tb)) {\r\n        let button = toolbarButtons[tb]\r\n        if (button === null) {\r\n          toolbarHtml += ' </div> <div class=\"btn-group mb-2px\"> '\r\n          continue\r\n        }\r\n\r\n        if (typeof button === 'string' && button in _buttonDefaults) {\r\n          button = _buttonDefaults[button]\r\n          button.name = toolbarButtons[tb]\r\n        } else if (typeof button === 'object' && button.name in _buttonDefaults) {\r\n          button = $.extend(_buttonDefaults[button.name], button)\r\n        } else continue\r\n\r\n        const className = 'className' in button ? button.className : 'btn-sm btn-outline-secondary btn-h-light-dark btn-a-light-dark'\r\n        switch (button.name) {\r\n          case 'font':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i><i class=\"fa fa-angle-down ml-1 text-secondary-m2\"></i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu radius-1 brc-secondary-m4\">'\r\n            for (const font in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, font)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item\"><a data-edit=\"fontName ${button.values[font]}\" style=\"font-family:'${button.values[font]}'\">${button.values[font]}</a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div>'\r\n            break\r\n\r\n          case 'fontSize':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i>&nbsp;<i class=\"fa fa-angle-down ml-1 text-secondary-m2\"></i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu radius-1 brc-secondary-m4\"> '\r\n            for (const size in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, size)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item\"><a data-edit=\"fontSize ${size}\"><font size=\"${size}\">${button.values[size]}</font></a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div> '\r\n            break\r\n\r\n          case 'createLink':\r\n            toolbarHtml += ` <div class=\"btn-group\"> <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ` <div class=\"dropdown-menu py-1 px-3 brc-default-m3 border-2 radius-1 shadow-sm\" style=\"min-width: 300px;\">\r\n\t\t\t\t\t\t <div class=\"input-group my-3\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" placeholder=\"${button.placeholder}\" type=\"text\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_class}\" type=\"button\">${button.button_text}</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t </div>\r\n\t\t\t\t\t</div> </div>`\r\n            break\r\n\r\n          case 'insertImage':\r\n            toolbarHtml += ` <div class=\"btn-group\"> <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu p-3 brc-default-m3 border-2 radius-1 shadow-sm\" style=\"min-width: 300px;\">'\r\n            if (button.choose_file && 'FileReader' in window) {\r\n              toolbarHtml +=\r\n              `<div class=\"text-secondary-d1\">Drag &amp; drop images into editor or</div>\r\n\t\t\t\t\t\t   <label class=\"text-center d-block mt-3 mb-0\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_class} wysiwyg-choose-file\" type=\"button\">${button.button_text}</button>\r\n\t\t\t\t\t\t\t<input type=\"file\" class=\"file-input-invisible\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t   </label><hr /> `\r\n            }\r\n\r\n            toolbarHtml += `<div class=\"input-group my-3\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" placeholder=\"${button.placeholder}\" type=\"text\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_insert_class}\" type=\"button\">${button.button_insert}</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t </div>`\r\n            toolbarHtml += ' </div> </div>'\r\n\r\n            break\r\n\r\n          case 'foreColor':\r\n          case 'backColor':\r\n            toolbarHtml += `<div class=\"mr-1px\"><a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu p-1 brc-secondary-m4 border-1 radius-1\" style=\"min-width:auto;width:10.66rem;\"><div class=\"d-flex flex-wrap\">'\r\n            for (const color in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, color)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item m-0 p-0 d-inline-block w-auto\"><a class=\"p-0 dh-zoom-3\" role=\"button\" data-edit=\"${button.name} ${button.values[color]}\" style=\"width:1.25rem;height:1.25rem;background-color:${button.values[color]};\"></a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div></div></div>'\r\n            break\r\n\r\n          case 'viewSource':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className}\" data-toggle=\"source\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            break\r\n          default:\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className}\" data-edit=\"${button.name}\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            break\r\n        }\r\n      }\r\n    }\r\n    toolbarHtml += ' </div> '// for .btn-group\r\n\r\n    // var speech_input;\r\n    // if (this._config.speech && 'onwebkitspeechchange' in (speech_input = document.createElement('input'))) {\r\n    // toolbarHtml += ' <input class=\"wysiwyg-speech-input\" type=\"text\" data-edit=\"inserttext\" x-webkit-speech />';\r\n    // }\r\n    // speech_input = null;\r\n    /// /////////\r\n    toolbarHtml += ' </div> '// for .btn-toolbar\r\n\r\n    return toolbarHtml\r\n  }\r\n\r\n  _handleImages () {\r\n    // option for resizing an image\r\n    let currentImg = null\r\n    $(this._element).on('click', 'img', function (ev) {\r\n      if (currentImg) $(currentImg).popover('dispose')\r\n\r\n      currentImg = this\r\n      if (!$(currentImg).data('original-width')) $(currentImg).data('original-width', currentImg.width)\r\n\r\n      $(currentImg).popover({\r\n        container: 'body',\r\n        html: true,\r\n        placement: function (popover) {\r\n          const offset = currentImg.getBoundingClientRect()\r\n          const scrollTop = document.scrollTop || document.documentElement.scrollTop || document.body.scrollTop\r\n          $(popover).addClass('popover-wysiwyg-image shadow brc-secondary-m4').css({ 'margin-left': (offset.left + 4) + 'px', 'margin-top': (offset.top + scrollTop + 4) + 'px' })\r\n\r\n          return 'auto'\r\n        },\r\n        title: 'Image Size & Position',\r\n        trigger: 'manual',\r\n        content: function () {\r\n          return $(`<div class='btn-group'>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='0.25'>25%</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='0.50'>50%</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='1'>100%</button>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  <input type='number' class='form-control d-inline-block form-control-sm' data-action='resize' style='max-width: 96px;' placeholder='specify width' value='${currentImg.width}' />\r\n\t\t\t\t\t\t\t  <hr class='my-2' />\r\n\t\t\t\t\t\t\t  <div class='btn-group'>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='left'>left</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='right'>right</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='none'>none</button>\r\n\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t <div class='btn-group float-right'>\r\n\t\t\t\t\t\t\t\t<button type='button' tooltip='Remove image' class='btn btn-sm btn-danger border-2 radius-round' data-action='remove'><i class='fa fa-trash-alt text-red'></i></button>\r\n\t\t\t\t\t\t\t </div>`)\r\n        }\r\n      }).popover('show')\r\n\r\n      $(document).on('click.popover-wysiwyg-image', function (ev) {\r\n        if (ev.target === currentImg) return\r\n\r\n        if ($(ev.target).closest('.popover-wysiwyg-image').length > 0) {\r\n          return\r\n        }\r\n\r\n        if (currentImg) $(currentImg).popover('hide')\r\n\r\n        currentImg = null\r\n        $(document).off('click.popover-wysiwyg-image')\r\n      })\r\n    })\r\n\r\n    $(document).on('click', '.popover-wysiwyg-image button.btn', function () {\r\n      if (!currentImg) return\r\n      const action = $(this).data('action')\r\n      const value = $(this).data('value')\r\n\r\n      if (action === 'resize') {\r\n        const width = parseInt($(currentImg).data('original-width') * value)\r\n        $(currentImg).css({ width: width })\r\n        $('.popover-wysiwyg-image input[type=number]').val(width)\r\n      }\r\n      if (action === 'align') $(currentImg).attr('class', 'float-' + value)\r\n      else if (action === 'remove') {\r\n        $(currentImg).popover('dispose').remove()// fadeOut(200, function() { $(this).remove() });\r\n        currentImg = null\r\n      }\r\n    })\r\n\r\n    $(document).on('change', '.popover-wysiwyg-image input[type=number]', function () {\r\n      if (currentImg) $(currentImg).css({ width: $(this).val() + 'px' })\r\n    })\r\n    /// //////////////\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element, config = null) {\r\n    if (!element) throw new Error('element for Wysiwyg is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new Wysiwyg(element, config)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = Wysiwyg.getInstance(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Wysiwyg._jQueryInterface\r\n  $.fn[NAME].Constructor = Wysiwyg\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Wysiwyg._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Wysiwyg\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): tab-scroll.js\r\n   Extra functionality for auto-scrolling tab buttons (in small devices)\r\n*/\r\n\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME1 = 'aceTabScroll'\r\nconst NAME2 = 'aceTabLinkScroll'\r\n\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.tabscroll'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  TAB_SCROLL: '.nav-tabs-scroll',\r\n  ACTIVE: '.active'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definitions\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass NavTabScroller {\r\n  constructor (element) {\r\n    this._element = element\r\n\r\n    this._firefox = 'MozAppearance' in document.documentElement.style\r\n\r\n    this._init()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  _init () {\r\n    // scroll to active element on page load\r\n    const active = this._element.querySelector(Selector.ACTIVE)\r\n    if (active) {\r\n      const navLinkScroll = NavLinkScroller.getInstance(active)\r\n      if (!this._firefox) {\r\n        navLinkScroll._scrollIntoView(false)\r\n      } else { // still firefox doesn't scroll back to `zero` on page load!\r\n        setTimeout(() => {\r\n          this._element.scrollLeft = 1\r\n          navLinkScroll._scrollIntoView(false)\r\n        }, 500)\r\n      }\r\n    }\r\n\r\n    this.enable()\r\n  }\r\n\r\n  enable () {\r\n    this._element.addEventListener('click', (ev) => {\r\n      const navLink = Util.closest(ev.target, 'a')\r\n      if (!navLink) return\r\n\r\n      NavLinkScroller.scrollIntoView(navLink)\r\n    })\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element) {\r\n    if (!element) throw new TypeError('element for NavTabScroller is null')\r\n\r\n    const name = `__${NAME1}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new NavTabScroller(element)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = NavTabScroller.getInstance(this)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n// scroll a link into view (horizontal tabs/links)\r\nclass NavLinkScroller {\r\n  constructor (element) {\r\n    this._element = element\r\n\r\n    this._firefox = 'MozAppearance' in document.documentElement.style\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  // scroll tab button elements into view when clicked\r\n  _scrollIntoView (smooth = true) {\r\n    const li = this._element.parentNode\r\n    const nav = li.parentNode\r\n\r\n    const navClientWidth = nav.clientWidth\r\n    const navScrollWidth = nav.scrollWidth\r\n    if (navScrollWidth <= navClientWidth) return // don't scroll if not needed\r\n\r\n    const isRTL = Util.isRTL()\r\n\r\n    // scroll to this element (center it)\r\n    let _scrollLeft\r\n    if (!isRTL) {\r\n      _scrollLeft = li.offsetLeft - (navClientWidth - li.clientWidth) / 2\r\n    } else {\r\n      // firefox and webkit have different ways of dealing with scrolling right/left and offsets in RTL mode\r\n      if (!this._firefox) {\r\n        _scrollLeft = (navScrollWidth - navClientWidth) + (li.offsetLeft) - ((navClientWidth - li.clientWidth) / 2)\r\n      } else {\r\n        _scrollLeft = li.offsetLeft - ((navClientWidth - li.clientWidth) / 2)\r\n      }\r\n    }\r\n    _scrollLeft = _scrollLeft | 0 // convert FLOAT to INT\r\n\r\n    smooth = !Util.isReducedMotion() && smooth === true\r\n    try {\r\n      nav.scrollTo({\r\n        top: 0,\r\n        left: _scrollLeft,\r\n        behavior: smooth ? 'smooth' : 'auto'\r\n      })\r\n\r\n      // firefox needs extra push when scrolling back\r\n      if (this._firefox && _scrollLeft < nav.scrollLeft) {\r\n        setTimeout(function () {\r\n          nav.scrollTo({\r\n            top: 0,\r\n            left: _scrollLeft,\r\n            behavior: smooth ? 'smooth' : 'auto'\r\n          })\r\n        }, 0)\r\n      }\r\n    } catch (e) {\r\n      nav.scrollLeft = _scrollLeft\r\n    }\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = NavLinkScroller.getInstance(this)\r\n        $this.data(DATA_KEY, data)\r\n        data._scrollIntoView()\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new Error(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n\r\n  static getInstance (element) {\r\n    if (!element) throw new Error('element for NavLinkScroller is null')\r\n\r\n    const name = `__${NAME2}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new NavLinkScroller(element)\r\n    return element[name]\r\n  }\r\n\r\n  static scrollIntoView (element) {\r\n    const instance = NavLinkScroller.getInstance(element)\r\n    if (instance) instance._scrollIntoView()\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof window.jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n\r\n  $(window).on(Event.LOAD_DATA_API, () => {\r\n    const scrollableNavTabs = document.querySelectorAll(Selector.TAB_SCROLL)\r\n\r\n    for (let i = 0; i < scrollableNavTabs.length; i++) {\r\n      const $tabscroll = $(scrollableNavTabs[i])\r\n      NavTabScroller._jQueryInterface.call($tabscroll)\r\n    }\r\n  })\r\n\r\n  const JQUERY_NO_CONFLICT1 = $.fn[NAME1]\r\n  $.fn[NAME1] = NavTabScroller._jQueryInterface\r\n  $.fn[NAME1].Constructor = NavTabScroller\r\n  $.fn[NAME1].noConflict = () => {\r\n    $.fn[NAME1] = JQUERY_NO_CONFLICT1\r\n    return NavTabScroller._jQueryInterface\r\n  }\r\n\r\n  const JQUERY_NO_CONFLICT2 = $.fn[NAME2]\r\n  $.fn[NAME2] = NavLinkScroller._jQueryInterface\r\n  $.fn[NAME2].Constructor = NavLinkScroller\r\n  $.fn[NAME2].noConflict = () => {\r\n    $.fn[NAME2] = JQUERY_NO_CONFLICT2\r\n    return NavLinkScroller._jQueryInterface\r\n  }\r\n}\r\n\r\nexport {\r\n  NavTabScroller,\r\n  NavLinkScroller\r\n}\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): tab-swipe.js\r\n   Extra functionality for swiping tabs such\r\n*/\r\n\r\nimport Util from './util'\r\n\r\nimport EventHandler from './event-handler'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceTabSwipe'\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.tabswipe'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  START: `start${EVENT_KEY}`,\r\n  STARTED: `started${EVENT_KEY}`,\r\n  END: `end${EVENT_KEY}`,\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  TAB_SWIPE: '.tab-sliding:not([data-swipe=\"none\"])',\r\n  ACTIVE: '.active'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass TabSwipe {\r\n  constructor (element) {\r\n    this._element = element\r\n\r\n    this._firefox = 'MozAppearance' in document.documentElement.style\r\n    this._jQueryBS = typeof window.jQuery !== 'undefined' && typeof window.bootstrap !== 'undefined'\r\n\r\n    this._init()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  _init () {\r\n    this._element.addEventListener('touchstart', (ev) => {\r\n      const pane = Util.closest(ev.target, '.tab-pane')\r\n      if (!pane || !pane.classList.contains('active')) return\r\n\r\n      const e = EventHandler.trigger(this._element, Event.START)\r\n      if (e.defaultPrevented) return\r\n\r\n      this._startPaneSwipe(ev, pane)\r\n      EventHandler.trigger(this._element, Event.STARTED)\r\n    })\r\n  }\r\n\r\n  _startPaneSwipe (ev, pane) {\r\n    const curPane = pane\r\n    const isRTL = Util.isRTL()\r\n    const initialTransform = !isRTL ? 'translateX(100%)' : 'translateX(-100%)'\r\n\r\n    const touches = ev.changedTouches[0]\r\n\r\n    let swipeDir = 0\r\n    const x1 = touches.pageX\r\n    const y1 = touches.pageY\r\n    const t1 = Date.now()\r\n\r\n    let lastX = 0\r\n\r\n    let curDir = 0\r\n\r\n    const paneWidth = curPane.clientWidth\r\n    let siblingPane = null\r\n\r\n    const allowedDir = this._element.getAttribute('data-swipe') || null\r\n\r\n    const paneTouchMoveCallback = (ev) => {\r\n      const touches = ev.changedTouches[0]\r\n      const newX = touches.pageX\r\n      const newY = touches.pageY\r\n      lastX = newX\r\n\r\n      if (swipeDir === 0) {\r\n        const diffY = Math.abs(y1 - newY)\r\n        const diffX = Math.abs(x1 - newX)\r\n\r\n        if (diffY > diffX) {\r\n          swipeDir = 2// vertical i.e. scroll\r\n          _dismiss()\r\n        } else if (diffX > 10) {\r\n          swipeDir = 1// horizontal swipe\r\n        }\r\n      }\r\n      if (swipeDir !== 1) return // return if not horizontal swipe\r\n\r\n      const moveX = parseInt(x1 - newX)\r\n      let newDir = 0\r\n\r\n      if ((allowedDir === null || (allowedDir === 'left')) && ((!isRTL && moveX > 0) || (isRTL && moveX < 0))) newDir = 1\r\n      else if ((allowedDir === null || (allowedDir === 'right')) && ((!isRTL && moveX < 0) || (isRTL && moveX > 0))) newDir = -1\r\n\r\n      if (newDir !== 0 && newDir !== curDir) {\r\n        if (siblingPane !== null) _reset(siblingPane)// undo previous direction for when we change swipe direction before a touchend\r\n        curDir = newDir\r\n\r\n        let targetPane = curPane.getAttribute('data-swipe-' + (curDir === 1 ? 'next' : 'prev'))\r\n        if (targetPane) targetPane = document.querySelector(targetPane)\r\n        else {\r\n          // this is set in angular directive, so we can specify custom next/prev swipe tabs from angular as well\r\n          targetPane = curPane[`__ace_swipe_${curDir === 1 ? 'next' : 'prev'}_pane__`] || null\r\n        }\r\n        siblingPane = targetPane || (curDir === 1 ? curPane.nextElementSibling : curPane.previousElementSibling)\r\n\r\n        if (siblingPane === null || siblingPane === curPane) {\r\n          curDir = 0\r\n        } else {\r\n          curPane.classList.add('tab-swiping')\r\n          siblingPane.classList.add('tab-swiping')\r\n        }\r\n      }\r\n\r\n      const moveXabs = Math.abs(moveX)\r\n      if (curDir !== 0 && moveXabs < paneWidth + 24) { // don't move more than 24px beyond its size\r\n        curPane.style.transform = initialTransform + ' translateX(' + (-1 * moveX) + 'px)'\r\n        siblingPane.style.transform = 'translateX(' + (-1 * moveX) + 'px)'\r\n      } else if (curDir === 0 && moveXabs < 24) {\r\n        curPane.style.transform = initialTransform + ' translateX(' + (-1 * moveX) + 'px)'\r\n      }\r\n    }\r\n\r\n    const paneTouchEndCallback = (ev) => {\r\n      const touches = ev.changedTouches[0] || null\r\n\r\n      const x2 = touches !== null ? touches.pageX : lastX\r\n      const t2 = Date.now()\r\n\r\n      const diff = Math.abs(x2 - x1)\r\n\r\n      _dismiss()\r\n\r\n      if (curDir !== 0 && swipeDir === 1 &&\r\n                                ((diff > paneWidth / 4 || diff > 100) || (diff > paneWidth / 6 && t2 - t1 < 300))\r\n      ) { // if moved more than 1/4 of its width or 100px or 1/6 in less than 300ms\r\n        EventHandler.trigger(this._element, Event.END, { swipeDirection: curDir })\r\n\r\n        if (this._jQueryBS) {\r\n          siblingPane.classList.add('active', 'show')\r\n          curPane.classList.remove('active', 'show')\r\n\r\n          const id1 = curPane.id\r\n          const id2 = siblingPane.id\r\n          document.querySelectorAll('[href=\"#' + id1 + '\"],[data-target=\"#' + id1 + '\"]').forEach((a) => {\r\n            a.classList.remove('active')\r\n            a.setAttribute('aria-selected', 'false')\r\n          })\r\n\r\n          const newActive = document.querySelectorAll('[href=\"#' + id2 + '\"],[data-target=\"#' + id2 + '\"]')\r\n          newActive.forEach((a) => {\r\n            a.classList.add('active')\r\n            a.setAttribute('aria-selected', 'true')\r\n          })\r\n\r\n          if (newActive.length > 0) {\r\n            try {\r\n              /* global AceApp */\r\n              const navLinkScroll = AceApp.NavLinkScroller.getInstance(newActive[0])\r\n              navLinkScroll._scrollIntoView()\r\n            } catch (err) {\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const _dismiss = () => {\r\n      curPane.removeEventListener('touchmove', paneTouchMoveCallback)\r\n      curPane.removeEventListener('touchend', paneTouchEndCallback)\r\n      curPane.removeEventListener('touchcancel', paneTouchEndCallback)\r\n\r\n      curPane.style.transform = ''\r\n      curPane.classList.remove('tab-swiping')\r\n\r\n      if (siblingPane) {\r\n        siblingPane.style.transform = ''\r\n        siblingPane.classList.remove('tab-swiping')\r\n      }\r\n    }\r\n\r\n    const _reset = (sibling) => {\r\n      sibling.style.transform = ''\r\n      sibling.style.transitionDuration = '0ms' // so when we quickly and frequently swipe left/right without a `touchend`, the other pane moves away (disappears) instantly\r\n      sibling.classList.remove('tab-swiping')\r\n      sibling.offsetHeight\r\n      sibling.style.transitionDuration = ''\r\n    }\r\n\r\n    pane.addEventListener('touchmove', paneTouchMoveCallback)\r\n    pane.addEventListener('touchend', paneTouchEndCallback)\r\n    pane.addEventListener('touchcancel', paneTouchEndCallback)\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element) {\r\n    if (!element) throw new Error('element for TabSwipe is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new TabSwipe(element)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = TabSwipe.getInstance(this)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof window.jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n\r\n  $(window).on(Event.LOAD_DATA_API, () => {\r\n    if (!('ontouchstart' in document.documentElement)) return\r\n    const swipeablePanes = document.querySelectorAll(Selector.TAB_SWIPE)\r\n\r\n    for (let i = 0; i < swipeablePanes.length; i++) {\r\n      const $tabswipe = $(swipeablePanes[i])\r\n      TabSwipe._jQueryInterface.call($tabswipe)\r\n    }\r\n  })\r\n\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = TabSwipe._jQueryInterface\r\n  $.fn[NAME].Constructor = TabSwipe\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return TabSwipe._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default TabSwipe\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): scroll-top.js\r\n   Scroll window to top\r\n*/\r\n\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceScrollTop'\r\n\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.scrolltop'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  SCROLL_TOP_BTN: '.btn-scroll-up'\r\n}\r\n\r\nconst CLASS_NAME_SHOW = 'scroll-btn-visible'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass ScrollTop {\r\n  constructor (element) {\r\n    this._element = element\r\n    this._init()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  _init () {\r\n    const _modernBrowser = 'IntersectionObserver' in window\r\n\r\n    this._element.addEventListener('click', (ev) => {\r\n      ev.preventDefault()\r\n\r\n      if (_modernBrowser) this.hide()\r\n      ScrollTop.scrollToTop()\r\n    })\r\n\r\n    if (!_modernBrowser) {\r\n      // if browser doesn't support `IntersectionObserver`, always show the scroll to top button\r\n      this.show()\r\n    } else {\r\n      const _scrollBtnObserve = document.createElement('DIV')\r\n      _scrollBtnObserve.classList.add('scroll-btn-observe')\r\n      document.body.appendChild(_scrollBtnObserve)\r\n\r\n      const observer = new window.IntersectionObserver(([entry]) => {\r\n        const isObserverOut = entry.intersectionRatio < 1 && entry.boundingClientRect.bottom < 0\r\n        if (isObserverOut) {\r\n          this.show()\r\n        } else {\r\n          this.hide()\r\n        }\r\n      },\r\n      {\r\n        threshold: [1.0],\r\n        delay: 100\r\n      }\r\n      )\r\n\r\n      observer.observe(_scrollBtnObserve)\r\n    }\r\n  }\r\n\r\n  show () {\r\n    this._element.classList.add(CLASS_NAME_SHOW)\r\n  }\r\n\r\n  hide () {\r\n    this._element.classList.remove(CLASS_NAME_SHOW)\r\n  }\r\n\r\n  static scrollToTop (smooth = true) {\r\n    // ScrollToOptions parameter may not be supported on some older browsers\r\n    // so we use try/catch block in case of an error\r\n    try {\r\n      smooth = !Util.isReducedMotion() && smooth === true\r\n      window.scroll({\r\n        top: 0,\r\n        behavior: smooth ? 'smooth' : 'auto'\r\n      })\r\n    } catch (e) {\r\n      window.scroll(0, 0)\r\n    }\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element) {\r\n    if (!element) throw new Error('element for ScrollTop is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new ScrollTop(element)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = ScrollTop.getInstance(this)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof window.jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n\r\n  $(window).on(Event.LOAD_DATA_API, () => {\r\n    const scrollTopTopBtn = document.querySelectorAll(Selector.SCROLL_TOP_BTN)\r\n\r\n    for (let i = 0; i < scrollTopTopBtn.length; i++) {\r\n      const $scrollTopBtn = $(scrollTopTopBtn[i])\r\n      ScrollTop._jQueryInterface.call($scrollTopBtn)\r\n    }\r\n  })\r\n\r\n  const JQUERY_NO_CONFLICT1 = $.fn[NAME]\r\n  $.fn[NAME] = ScrollTop._jQueryInterface\r\n  $.fn[NAME].Constructor = ScrollTop\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT1\r\n    return ScrollTop._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default ScrollTop\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): sticky.js\r\n   Trigger an event for sticky elements when they become stuck/unstuck\r\n*/\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceSticky'\r\n\r\nconst VERSION = '4.0.0'\r\nconst DATA_KEY = 'ace.sticky'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  STICKY: '[class*=\"sticky-nav\"]'\r\n}\r\n\r\n/**\r\n  * ------------------------------------------------------------------------\r\n  * Class Definition\r\n  * ------------------------------------------------------------------------\r\n  */\r\n\r\nclass Sticky {\r\n  constructor (element) {\r\n    this._element = element\r\n    this._init()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  _init () {\r\n    if (!window.IntersectionObserver) return\r\n    this._initObserver()\r\n\r\n    // add a dummy child to be observed\r\n    // when it goes out of window it means .sticky-nav is sticky now\r\n    // because dummy element is `top: -1px` or when below navbar it's `top : -1 * ($navbar-height + 1px)`;\r\n    const observedChild = document.createElement(this._element.tagName === 'UL' ? 'LI' : 'DIV')\r\n    observedChild.classList.add('sticky-trigger')\r\n    this._element.insertBefore(observedChild, this._element.firstChild)\r\n\r\n    Sticky._observer.observe(observedChild)\r\n\r\n    setTimeout(() => {\r\n      if (observedChild.getBoundingClientRect().bottom < 0) {\r\n        let isSticky = true\r\n        if (isSticky && !this._element.classList.contains('sticky-nav')) {\r\n          const pos = window.getComputedStyle(this._element).position\r\n          if (!(pos === 'sticky' || pos === '-webkit-sticky')) isSticky = false\r\n        }\r\n        const evt = new window.CustomEvent('sticky-change', { detail: { isSticky: isSticky, initialCheck: true } })\r\n        this._element.dispatchEvent(evt)\r\n      }\r\n    }, 200)\r\n  }\r\n\r\n  /// /\r\n  // we use it when a sticky element becomes stuck on top and 1 pixel of it goes out of view (because of top: -1px)\r\n  // so IntersectionObserver is triggered with intersectionRatio < 1 and y < 0\r\n  // then we trigger an event for it, so later we may for example change its classList to update styling\r\n\r\n  _initObserver () {\r\n    if (Sticky._observer !== null) return\r\n    Sticky._observer = new window.IntersectionObserver(([entry]) => {\r\n      let isSticky = entry.intersectionRatio < 1 && entry.boundingClientRect.bottom < 0\r\n\r\n      // isSticky=true means we are at sticky position\r\n      // so if our sticky element is for example 'sticky-nav-md' and we are at sticky position\r\n      // but our window size is above 'md' and therefore CSS rule 'position: sticky' is not applied at all\r\n      // so we check if we are really sticky or not\r\n      const stickyNav = entry.target.parentElement// entry.target is the `.sticky-trigger` and parentElement is the `.sticky-nav` element\r\n\r\n      // check if `position` is actually `sticky` ... for example if we have `.sticky-nav-md`, it will be sticky only on small (md) devices\r\n      if (isSticky && !stickyNav.classList.contains('sticky-nav')) { // don't check `.sticky-nav` element because it's sticky regardless of window size\r\n        const pos = window.getComputedStyle(stickyNav).position\r\n        if (!(pos === 'sticky' || pos === '-webkit-sticky')) isSticky = false\r\n      }\r\n\r\n      const evt = new window.CustomEvent('sticky-change', { detail: { isSticky } })\r\n      stickyNav.dispatchEvent(evt)\r\n    },\r\n    {\r\n      threshold: [1.0],\r\n      delay: 100\r\n    }\r\n    )\r\n  }\r\n\r\n  // Static methods\r\n  static getInstance (element) {\r\n    if (!element) throw new Error('element for Sticky is null')\r\n\r\n    const name = `__${NAME}__`\r\n    if (typeof element[name] !== 'undefined') return element[name]\r\n\r\n    element[name] = new Sticky(element)\r\n    return element[name]\r\n  }\r\n\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = window.jQuery(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = Sticky.getInstance(this)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nSticky._observer = null// static property\r\n\r\n/**\r\n  * ------------------------------------------------------------------------\r\n  * jQuery\r\n  * ------------------------------------------------------------------------\r\n */\r\n\r\nif (typeof window.jQuery !== 'undefined') {\r\n  const $ = window.jQuery\r\n\r\n  window.jQuery(window).on(Event.LOAD_DATA_API, () => {\r\n    const stickyEl = document.querySelectorAll(Selector.STICKY)\r\n\r\n    for (let i = 0; i < stickyEl.length; i++) {\r\n      const $stickyEl = $(stickyEl[i])\r\n      Sticky._jQueryInterface.call($stickyEl)\r\n    }\r\n  })\r\n\r\n  const JQUERY_NO_CONFLICT1 = $.fn[NAME]\r\n  $.fn[NAME] = Sticky._jQueryInterface\r\n  $.fn[NAME].Constructor = Sticky\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT1\r\n    return Sticky._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Sticky\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v4.0.0): index.js\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nimport Util from './util'\r\nimport EventHandler from './event-handler'\r\nimport Basic from './general'\r\nimport Scrollbar from './scrollbar'\r\nimport Sidebar from './sidebar'\r\nimport Aside from './aside'\r\nimport Toaster from './toaster'\r\nimport Card from './card'\r\nimport FileInput from './fileinput'\r\nimport Wysiwyg from './wysiwyg'\r\nimport { NavTabScroller, NavLinkScroller } from './tab-scroll'\r\nimport TabSwipe from './tab-swipe'\r\nimport ScrollTop from './scroll-top'\r\nimport Sticky from './sticky'\r\n\r\nexport default {\r\n  Util,\r\n  EventHandler,\r\n  Basic,\r\n  Scrollbar,\r\n  Sidebar,\r\n  Aside,\r\n  Toaster,\r\n  Card,\r\n  FileInput,\r\n  Wysiwyg,\r\n  NavTabScroller,\r\n  NavLinkScroller,\r\n  TabSwipe,\r\n  ScrollTop,\r\n  Sticky\r\n}\r\n"],"names":["Util","window","matchMedia","matches","document","documentElement","classList","contains","dir","element","selector","closest","el","parentNode","e","_matches","_msMatches","msMatchesSelector","isValid","createDocumentFragment","querySelector","_elem","_pos","isValidSelector","tmp","currentElemAtPos","nextElementSibling","lastElementChild","firstElementChild","previousElementSibling","insertAdjacentHTML","insertAdjacentElement","_after","_insert","_before","_append","_prepend","_wrap","appendChild","remove","parent","after","innerHTML","querySelectorAll","forEach","removeChild","className","add","updateClass","_classes","split","_class","trim","length","_next","_prev","offsetTop","property","getComputedStyle","recalc","_scrollbarInfo","scrollDiv","createElement","style","overflow","position","width","height","scrollbar","body","parseInt","getBoundingClientRect","clientWidth","setProperty","thinWidth","CSS","thin","supports","overlay","autohide","_supportsTransitionStart","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","String","prototype","startsWith","Object","defineProperty","value","search","rawPos","pos","substring","includes","start","RegExp","TypeError","undefined","indexOf","getjQuery","jQuery","hasAttribute","namespaceRegex","stripNameRegex","stripUidRegex","eventRegistry","uidEvent","customEvents","nativeEvents","isNativeEvent","eventName","getUidEvent","uid","getEvent","bootstrapHandler","fn","handler","delegateTarget","oneOff","EventHandler","off","type","apply","bootstrapDelegationHandler","domElements","target","i","findHandler","events","delegationSelector","uidEventList","keys","len","originalHandler","normalizeParams","originalTypeEvent","delegationFn","delegation","typeEvent","replace","custom","isNative","addHandler","handlers","previousFn","addEventListener","removeHandler","removeEventListener","Boolean","removeNamespacedHandlers","namespace","storeElementEvent","handlerKey","on","one","inNamespace","isNamespace","elementEvent","slice","keyHandlers","trigger","args","$","jQueryEvent","nativeDispatch","defaultPrevented","Event","isPropagationStopped","isImmediatePropagationStopped","isDefaultPrevented","initEvent","key","get","preventDefault","dispatchEvent","Basic","_HandleGeneral","bootstrap","_handleAlerts","_handleDropdowns","_handleNavbar","NodeList","Array","wrap","collapse","_dismissDropdown","menu","dropdown","toggle","call","stopImmediatePropagation","display","scrollbarInfo","getScrollbarInfo","currentOpenCollapse","autofocus","focus","ev","previousOpenCollapse","css","_adjustDropdown","isRTL","isRightAligned","_dir","prop","removeProperty","moveBy","rect","left","sw","scrollWidth","right","originalEvent","propertyName","navbar","_HandleBasics","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","LOAD_DATA_API","Selector","ACE_SCROLL","DATA_ACE_SCROLL","DefaultType","smooth","lock","ignore","plugin","options","color","Default","Scrollbar","config","_element","_config","_getConfig","enableScrollbars","update","_addNativeScrolls","_preferNativeScrolls","_addPluginScrolls","_height","isNaN","maxHeight","_lock","_smooth","wrapper","firstChild","transition","offsetHeight","_hasScrollbarPlugin","getAttribute","JSON","parse","typeCheckConfig","constructor","Error","name","each","$this","data","getInstance","scrollbars","concat","$scrollbars","_jQueryInterface","JQUERY_NO_CONFLICT","Constructor","noConflict","SHOW","HIDE","COLLAPSE","EXPAND","SHOWN","HIDDEN","COLLAPSED","EXPANDED","CLICK_DATA_API","SIDEBAR","DATA_TOGGLE","DATA_TOGGLE_MOBILE","swipe","dismiss","backdrop","gotoactive","subscroll","subtoggle","pullup","ClassName","DESKTOP_HIDE","MOBILE_SHOW","TOGGLING","INNER_HOVER","BACKDROP","HORIZONTAL","Sidebar","_hasTransitionEvent","_hasTransitionEventMobile","_isTransitioning","_isTransitioningMobile","_sidebar","reflow","_inner","_scroller","_isSubOpening","_pullupEnabled","_pullupCallback","_triggerArray","id","_triggerArrayMobile","_horizontal","_desktopCollapsedClass","_collapsed","_hidden","_handleTriggerEvents","enableSubmenuToggle","enableSubmenuPullup","scrollToActive","_addTransitionEvent","toggleMobile","btn","expand","show","hide","_updateTriggerBtns","isReducedMotion","offsetWidth","_toggleCompleted","_resetPullUp","_addTransitionEventMobile","pointerEvents","enableSwipeHide","_toggleMobileCompleted","btns","expanded","setAttribute","shown","counter","activeElement","tagName","blur","x1","y1","swipeDir","lastX","pushContent","sidebarWidth","touchMoveCallback","touches","changedTouches","newX","pageX","newY","pageY","diffY","Math","abs","diffX","moveX","transform","t1","Date","now","minWidth","touchEndHandler","x2","t2","_jQueryBS","navItem","subMenu","navLink","_item","sub","_submenuIsToggled","_submenuScroll","scrollHeight","clientHeight","overscrollBehavior","delay","setTimeout","scrollIntoView","behavior","block","marginProp","navText","wh","innerHeight","diff","bottom","navTextHeight","navbarHeight","diff2","top","active","scrollTop","sidebars","$sidebar","placement","fade","blocking","container","belowNav","aboveNav","scroll","Aside","modal","_init","_setPlacement","extraClass","bdc","dialog","placementMap","t","tc","tr","tl","b","bc","br","bl","r","rc","l","lc","c","center","visibleModalSelector","onBeforeShow","innerWidth","isModalOff","match","backdropBg","backdrops","modalOff","bodyContainer","filter","modalParent","modalSibling","nextSibling","insertBefore","onAfterShow","paddingRight","_dismissAsideEvent","$event","onAfterHide","_HandleAside","CLEAR","ADD","ADDED","close","autoremove","template","alert","Toaster","_lastToastId","_tempParent","newToast","append","toastHeader","title","titleClass","closeClass","bodyClass","image","imageClass","icon","headerClass","progress","sticky","transitionDuration","progressReverse","_addToContainer","toast","isNewElement","addEvent","dummy","getElementById","_toastOptions","animation","$toast","removeClass","addClass","unwrap","instant","hideAll","_hideBySelector","clearEvent","is","addEl","CLOSE","CLOSED","RESTORE","RESTORED","RELOAD","RELOADED","DATA_ACTION","Card","isTransitioning","loader","startLoading","loadingHtml","isFullscreen","next","_closeComplete","action","offsetParent","_toggleIcon","HTMLElement","eventCompleteName","toggleFast","button","animate","_fullscreen","$expand","param","transitionFn","actionBtn","card","CHANGED","INVALID","PREVIEW_FAILED","persistent","btnChooseClass","btnChangeClass","btnChooseText","btnChangeText","placeholderClass","placeholderText","placeholderIcon","iconClass","reset","resetText","resetIcon","droppable","thumbnail","previewImage","allowExt","denyExt","allowMime","denyMime","maxSize","previewSize","previewWidth","previewHeight","beforeChange","fileIcons","file","video","audio","archive","code","PreviewError","FILE_LOAD_FAILED","IMAGE_LOAD_FAILED","THUMBNAIL_FAILED","ImagePreviewError","message","FileInput","settings","fileList","selectMethod","_hasMultiple","_hasFileList","_hasFileReader","_hasFile","disabled","canReset","_hasAcceptAttr","_handleOnChange","parentForm","resetInputData","resetInputUI","parentLabel","_applySettings","_isMulti","_isDropStyle","placeholder","tooltip","resetInput","_enableFileDrop","_setAcceptAttr","$files","innerCall","files","filename","format","File","hasOwnProperty","path","index","lastIndexOf","substr","test","fileIcon","label","canPreview","_previewImage","catch","result","$_previewError","resetInputField","stopLoading","removeData","removeAttribute","newSettings","dropbox","stopPropagation","dt","dataTransfer","tmpFileList","tmpfiles","push","_processFiles","fileArray","f","showFileList","$_selectedFiles","list","method","Promise","resolve","reject","empty","getImage","src","$file","img","prepend","waitTimer","removeEvents","imgFailed","onLoad","imgLoaded","onError","clearTimeout","size","min","svg","thumb","_getThumbnail","w","h","max","background","reader","FileReader","onload","onerror","readAsDataURL","imgWidth","imgHeight","dataURL","canvas","context","getContext","imageSmoothingQuality","drawImage","toDataURL","dropped","ret","_checkFileList","FileList","_getExtRegex","_getMimeRegex","safeFiles","errorList","ext","mime","errorCount","$_fileErrors","fileCount","invalidCount","isArray","join","accept","retval","reteach","wysiwyg","colors","toolbar","toolbarPlacement","toolbarStyle","Wysiwyg","initEditor","toolbarHtml","_createToolbarHtml","before","prev","find","siblings","which","self","viewSource","outerWidth","outerHeight","val","html","insertAfter","textarea","$options","extend","activeToolbarClass","toolbarSelector","_handleImages","_buttonDefaults","font","values","fontSize","bold","italic","strikethrough","underline","insertunorderedlist","insertorderedlist","outdent","indent","justifyleft","justifycenter","justifyright","justifyfull","createLink","button_text","button_class","unlink","insertImage","button_insert","button_insert_class","choose_file","foreColor","backColor","removeFormat","undo","redo","toolbarButtons","tb","iconText","currentImg","popover","offset","content","attr","NAME1","NAME2","TAB_SCROLL","ACTIVE","NavTabScroller","_firefox","navLinkScroll","NavLinkScroller","_scrollIntoView","scrollLeft","enable","li","nav","navClientWidth","navScrollWidth","_scrollLeft","offsetLeft","scrollTo","instance","scrollableNavTabs","$tabscroll","JQUERY_NO_CONFLICT1","JQUERY_NO_CONFLICT2","START","STARTED","END","TAB_SWIPE","TabSwipe","pane","_startPaneSwipe","curPane","initialTransform","curDir","paneWidth","siblingPane","allowedDir","paneTouchMoveCallback","_dismiss","newDir","_reset","targetPane","moveXabs","paneTouchEndCallback","swipeDirection","id1","id2","a","newActive","AceApp","err","sibling","swipeablePanes","$tabswipe","SCROLL_TOP_BTN","CLASS_NAME_SHOW","ScrollTop","_modernBrowser","scrollToTop","_scrollBtnObserve","observer","IntersectionObserver","entry","isObserverOut","intersectionRatio","boundingClientRect","threshold","observe","scrollTopTopBtn","$scrollTopBtn","STICKY","Sticky","_initObserver","observedChild","_observer","isSticky","initialCheck","stickyNav","parentElement","stickyEl","$stickyEl"],"mappings":"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"}